<!DOCTYPE html>
<html lang="de-DE" xml:lang="de-DE">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Vektoren | Testtheorie mit R</title>
  <meta name="description" content="2 Vektoren | Testtheorie mit R" />
  <meta name="generator" content="bookdown 0.42 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Vektoren | Testtheorie mit R" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Vektoren | Testtheorie mit R" />
  
  
  

<meta name="author" content="Martin Papenberg" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="einstieg.html"/>
<link rel="next" href="dataframes.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="einstieg.html"><a href="einstieg.html"><i class="fa fa-check"></i><b>1</b> Einstieg</a>
<ul>
<li class="chapter" data-level="1.1" data-path="einstieg.html"><a href="einstieg.html#über-dieses-skript"><i class="fa fa-check"></i><b>1.1</b> Über dieses Skript</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="einstieg.html"><a href="einstieg.html#feedback-und-fehlermeldungen"><i class="fa fa-check"></i><b>1.1.1</b> Feedback und Fehlermeldungen</a></li>
<li class="chapter" data-level="1.1.2" data-path="einstieg.html"><a href="einstieg.html#danksagung"><i class="fa fa-check"></i><b>1.1.2</b> Danksagung</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="einstieg.html"><a href="einstieg.html#erste-schritte-mit-r"><i class="fa fa-check"></i><b>1.2</b> Erste Schritte mit <code>R</code></a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="einstieg.html"><a href="einstieg.html#die-r-konsole"><i class="fa fa-check"></i><b>1.2.1</b> Die <code>R</code>-Konsole</a></li>
<li class="chapter" data-level="1.2.2" data-path="einstieg.html"><a href="einstieg.html#der-skript-editor"><i class="fa fa-check"></i><b>1.2.2</b> Der Skript-Editor</a></li>
<li class="chapter" data-level="1.2.3" data-path="einstieg.html"><a href="einstieg.html#kommentare"><i class="fa fa-check"></i><b>1.2.3</b> Kommentare</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="einstieg.html"><a href="einstieg.html#ausblick"><i class="fa fa-check"></i><b>1.3</b> Ausblick</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="vektoren.html"><a href="vektoren.html"><i class="fa fa-check"></i><b>2</b> Vektoren</a>
<ul>
<li class="chapter" data-level="2.1" data-path="vektoren.html"><a href="vektoren.html#vektorisierung"><i class="fa fa-check"></i><b>2.1</b> Vektorisierung</a></li>
<li class="chapter" data-level="2.2" data-path="vektoren.html"><a href="vektoren.html#variablen"><i class="fa fa-check"></i><b>2.2</b> Variablen</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="vektoren.html"><a href="vektoren.html#ausgabevsabspeichern"><i class="fa fa-check"></i><b>2.2.1</b> Ausgabe versus Abspeichern</a></li>
<li class="chapter" data-level="2.2.2" data-path="vektoren.html"><a href="vektoren.html#variablennamen"><i class="fa fa-check"></i><b>2.2.2</b> Variablennamen</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="vektoren.html"><a href="vektoren.html#datentypen-von-vektoren"><i class="fa fa-check"></i><b>2.3</b> Datentypen von Vektoren</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="vektoren.html"><a href="vektoren.html#character"><i class="fa fa-check"></i><b>2.3.1</b> <code>character</code></a></li>
<li class="chapter" data-level="2.3.2" data-path="vektoren.html"><a href="vektoren.html#logical"><i class="fa fa-check"></i><b>2.3.2</b> <code>logical</code></a></li>
<li class="chapter" data-level="2.3.3" data-path="vektoren.html"><a href="vektoren.html#factor"><i class="fa fa-check"></i><b>2.3.3</b> <code>factor</code></a></li>
<li class="chapter" data-level="2.3.4" data-path="vektoren.html"><a href="vektoren.html#na"><i class="fa fa-check"></i><b>2.3.4</b> <code>NA</code></a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="vektoren.html"><a href="vektoren.html#logischevergleiche"><i class="fa fa-check"></i><b>2.4</b> Logische Vergleiche</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="vektoren.html"><a href="vektoren.html#logische-vergleiche-mit-vektoren-vom-typ-character"><i class="fa fa-check"></i><b>2.4.1</b> Logische Vergleiche mit Vektoren vom Typ <code>character</code></a></li>
<li class="chapter" data-level="2.4.2" data-path="vektoren.html"><a href="vektoren.html#komponentenweise-vergleiche"><i class="fa fa-check"></i><b>2.4.2</b> Komponentenweise Vergleiche</a></li>
<li class="chapter" data-level="2.4.3" data-path="vektoren.html"><a href="vektoren.html#anwendungsbeispiel-überprüfe-das-gesetz-der-großen-zahlen"><i class="fa fa-check"></i><b>2.4.3</b> Anwendungsbeispiel: Überprüfe das Gesetz der großen Zahlen</a></li>
<li class="chapter" data-level="2.4.4" data-path="vektoren.html"><a href="vektoren.html#nalogik"><i class="fa fa-check"></i><b>2.4.4</b> Logische Operationen mit <code>NA</code></a></li>
<li class="chapter" data-level="2.4.5" data-path="vektoren.html"><a href="vektoren.html#der-in-operator"><i class="fa fa-check"></i><b>2.4.5</b> Der <code>%in%</code>-Operator</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="vektoren.html"><a href="vektoren.html#zugriff-auf-vektorelemente"><i class="fa fa-check"></i><b>2.5</b> Zugriff auf Vektorelemente</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="vektoren.html"><a href="vektoren.html#veczugriff"><i class="fa fa-check"></i><b>2.5.1</b> Der <code>[·]</code>-Zugriff</a></li>
<li class="chapter" data-level="2.5.2" data-path="vektoren.html"><a href="vektoren.html#logischerZugriff"><i class="fa fa-check"></i><b>2.5.2</b> <code>[·]</code>-Zugriff mit einem logischen Vektor</a></li>
<li class="chapter" data-level="2.5.3" data-path="vektoren.html"><a href="vektoren.html#vektorAendern"><i class="fa fa-check"></i><b>2.5.3</b> <code>[·]</code>-Zugriff zum Ändern von Daten</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="vektoren.html"><a href="vektoren.html#praezedenz"><i class="fa fa-check"></i><b>2.6</b> Präzedenz</a></li>
<li class="chapter" data-level="2.7" data-path="vektoren.html"><a href="vektoren.html#zusammenfassung"><i class="fa fa-check"></i><b>2.7</b> Zusammenfassung</a></li>
<li class="chapter" data-level="2.8" data-path="vektoren.html"><a href="vektoren.html#fragen-zum-vertiefenden-verständnis"><i class="fa fa-check"></i><b>2.8</b> Fragen zum vertiefenden Verständnis</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="dataframes.html"><a href="dataframes.html"><i class="fa fa-check"></i><b>3</b> <code>data.frames</code></a>
<ul>
<li class="chapter" data-level="3.1" data-path="dataframes.html"><a href="dataframes.html#die-funktion-data.frame"><i class="fa fa-check"></i><b>3.1</b> Die Funktion <code>data.frame()</code></a></li>
<li class="chapter" data-level="3.2" data-path="dataframes.html"><a href="dataframes.html#zugriff-auf-eine-einzelne-spalte-die--notation"><i class="fa fa-check"></i><b>3.2</b> Zugriff auf eine einzelne Spalte: die <code>$</code>-Notation</a></li>
<li class="chapter" data-level="3.3" data-path="dataframes.html"><a href="dataframes.html#datenzugriffe"><i class="fa fa-check"></i><b>3.3</b> Zugriff auf Spalten und Zeilen: die <code>[·,·]</code>-Notation</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="dataframes.html"><a href="dataframes.html#spaltenauswahl-von-items-mit-der-funktion-paste0"><i class="fa fa-check"></i><b>3.3.1</b> Spaltenauswahl von Items mit der Funktion <code>paste0()</code></a></li>
<li class="chapter" data-level="3.3.2" data-path="dataframes.html"><a href="dataframes.html#spaltenauswahl-von-items-mit-der-funktion-grepl"><i class="fa fa-check"></i><b>3.3.2</b> Spaltenauswahl von Items mit der Funktion <code>grepl()</code></a></li>
<li class="chapter" data-level="3.3.3" data-path="dataframes.html"><a href="dataframes.html#komplexere-logische-operationen-zur-zeilenauswahl"><i class="fa fa-check"></i><b>3.3.3</b> Komplexere logische Operationen zur Zeilenauswahl</a></li>
<li class="chapter" data-level="3.3.4" data-path="dataframes.html"><a href="dataframes.html#weitere-beispiele-zur-verwendung-der--notation"><i class="fa fa-check"></i><b>3.3.4</b> Weitere Beispiele zur Verwendung der <code>[·,·]</code>-Notation</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="dataframes.html"><a href="dataframes.html#subset"><i class="fa fa-check"></i><b>3.4</b> Die Funktion <code>subset()</code></a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="dataframes.html"><a href="dataframes.html#zeileneinfach"><i class="fa fa-check"></i><b>3.4.1</b> Vereinfachte Zeilenauswahl</a></li>
<li class="chapter" data-level="3.4.2" data-path="dataframes.html"><a href="dataframes.html#teaserfunktionen"><i class="fa fa-check"></i><b>3.4.2</b> Funktionsargumente</a></li>
<li class="chapter" data-level="3.4.3" data-path="dataframes.html"><a href="dataframes.html#spalteneinfach"><i class="fa fa-check"></i><b>3.4.3</b> Sonderregeln zur Auswahl von Spalten</a></li>
<li class="chapter" data-level="3.4.4" data-path="dataframes.html"><a href="dataframes.html#non-standard-evaluation"><i class="fa fa-check"></i><b>3.4.4</b> Non-Standard-Evaluation</a></li>
<li class="chapter" data-level="3.4.5" data-path="dataframes.html"><a href="dataframes.html#subsettoll"><i class="fa fa-check"></i><b>3.4.5</b> Umgang mit <code>NA</code>: <code>subset()</code> bevorzugt zur Zeilenauswahl</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="dataframes.html"><a href="dataframes.html#doppelteckig"><i class="fa fa-check"></i><b>3.5</b> Weitere Zugriffe auf <code>data.frames</code></a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="dataframes.html"><a href="dataframes.html#der--zugriff"><i class="fa fa-check"></i><b>3.5.1</b> Der <code>[[·]]</code>-Zugriff</a></li>
<li class="chapter" data-level="3.5.2" data-path="dataframes.html"><a href="dataframes.html#der--zugriff-1"><i class="fa fa-check"></i><b>3.5.2</b> Der <code>[·]</code>-Zugriff</a></li>
<li class="chapter" data-level="3.5.3" data-path="dataframes.html"><a href="dataframes.html#nameindex"><i class="fa fa-check"></i><b>3.5.3</b> Zugriff nach Name und Index</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="dataframes.html"><a href="dataframes.html#convenient"><i class="fa fa-check"></i><b>3.6</b> Nützliche Funktionen zum Arbeiten mit <code>data.frames</code></a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="dataframes.html"><a href="dataframes.html#tapply"><i class="fa fa-check"></i><b>3.6.1</b> Gruppierte Statistiken: <code>tapply()</code></a></li>
<li class="chapter" data-level="3.6.2" data-path="dataframes.html"><a href="dataframes.html#datenstruktur-nrow-und-ncol"><i class="fa fa-check"></i><b>3.6.2</b> Datenstruktur: <code>nrow()</code> und <code>ncol()</code></a></li>
<li class="chapter" data-level="3.6.3" data-path="dataframes.html"><a href="dataframes.html#wie-sieht-die-tabelle-aus-head-und-tail"><i class="fa fa-check"></i><b>3.6.3</b> Wie sieht die Tabelle aus: <code>head()</code> und <code>tail()</code></a></li>
<li class="chapter" data-level="3.6.4" data-path="dataframes.html"><a href="dataframes.html#zusammenfassung-aller-spalten-hilfe-aus-zusatzpaketen"><i class="fa fa-check"></i><b>3.6.4</b> Zusammenfassung aller Spalten: Hilfe aus Zusatzpaketen</a></li>
<li class="chapter" data-level="3.6.5" data-path="dataframes.html"><a href="dataframes.html#sortieren-die-funktion-arrange-aus-dem-paket-dplyr"><i class="fa fa-check"></i><b>3.6.5</b> Sortieren: Die Funktion <code>arrange</code>() aus dem Paket <code>dplyr</code></a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="dataframes.html"><a href="dataframes.html#zusammenfassung-1"><i class="fa fa-check"></i><b>3.7</b> Zusammenfassung</a></li>
<li class="chapter" data-level="3.8" data-path="dataframes.html"><a href="dataframes.html#fragen-zum-vertiefenden-verständnis-1"><i class="fa fa-check"></i><b>3.8</b> Fragen zum vertiefenden Verständnis</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="psychometrie.html"><a href="psychometrie.html"><i class="fa fa-check"></i><b>4</b> Erste psychometrische Auswertungen</a>
<ul>
<li class="chapter" data-level="4.1" data-path="psychometrie.html"><a href="psychometrie.html#summenwerte"><i class="fa fa-check"></i><b>4.1</b> Summenwerte</a></li>
<li class="chapter" data-level="4.2" data-path="psychometrie.html"><a href="psychometrie.html#item-schwierigkeiten"><i class="fa fa-check"></i><b>4.2</b> Item-Schwierigkeiten</a></li>
<li class="chapter" data-level="4.3" data-path="psychometrie.html"><a href="psychometrie.html#item-interkorrelationen"><i class="fa fa-check"></i><b>4.3</b> Item-Interkorrelationen</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="psychometrie.html"><a href="psychometrie.html#exkurs-programmatische-untersuchung-der-korrelationsmatrix"><i class="fa fa-check"></i><b>4.3.1</b> Exkurs: Programmatische Untersuchung der Korrelationsmatrix</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="psychometrie.html"><a href="psychometrie.html#trennschaerfe"><i class="fa fa-check"></i><b>4.4</b> Item-Trennschärfen</a></li>
<li class="chapter" data-level="4.5" data-path="psychometrie.html"><a href="psychometrie.html#alpha"><i class="fa fa-check"></i><b>4.5</b> Cronbachs Alpha</a></li>
<li class="chapter" data-level="4.6" data-path="psychometrie.html"><a href="psychometrie.html#split-half-reliabilität"><i class="fa fa-check"></i><b>4.6</b> Split-Half-Reliabilität</a></li>
<li class="chapter" data-level="4.7" data-path="psychometrie.html"><a href="psychometrie.html#in-der-praxis-nutzung-von-zusatzpaketen"><i class="fa fa-check"></i><b>4.7</b> In der Praxis: Nutzung von Zusatzpaketen</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="rohdaten.html"><a href="rohdaten.html"><i class="fa fa-check"></i><b>5</b> Aufarbeitung von Fragebogendaten</a>
<ul>
<li class="chapter" data-level="5.1" data-path="rohdaten.html"><a href="rohdaten.html#umkodierung"><i class="fa fa-check"></i><b>5.1</b> Umkodierung von Antworten</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="rohdaten.html"><a href="rohdaten.html#die-funktion-ifelse"><i class="fa fa-check"></i><b>5.1.1</b> Die Funktion <code>ifelse()</code></a></li>
<li class="chapter" data-level="5.1.2" data-path="rohdaten.html"><a href="rohdaten.html#ifelsevektor"><i class="fa fa-check"></i><b>5.1.2</b> Vektorisierung der Funktion <code>ifelse()</code></a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="rohdaten.html"><a href="rohdaten.html#invertierung-von-antworten"><i class="fa fa-check"></i><b>5.2</b> Invertierung von Antworten</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="rohdaten.html"><a href="rohdaten.html#invertierung-mit-ifelse"><i class="fa fa-check"></i><b>5.2.1</b> Invertierung mit <code>ifelse()</code></a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="rohdaten.html"><a href="rohdaten.html#missingvalues"><i class="fa fa-check"></i><b>5.3</b> Umgang mit fehlenden Werten</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="rohdaten.html"><a href="rohdaten.html#identifikation-von-fehlenden-werten"><i class="fa fa-check"></i><b>5.3.1</b> Identifikation von fehlenden Werten</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="rohdaten.html"><a href="rohdaten.html#fragen-zum-vertiefenden-verständnis-2"><i class="fa fa-check"></i><b>5.4</b> Fragen zum vertiefenden Verständnis</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="funktionen.html"><a href="funktionen.html"><i class="fa fa-check"></i><b>6</b> Funktionen</a>
<ul>
<li class="chapter" data-level="6.1" data-path="funktionen.html"><a href="funktionen.html#das-black-box-modell"><i class="fa fa-check"></i><b>6.1</b> Das Black-Box-Modell</a></li>
<li class="chapter" data-level="6.2" data-path="funktionen.html"><a href="funktionen.html#argumente"><i class="fa fa-check"></i><b>6.2</b> Argumente</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="funktionen.html"><a href="funktionen.html#help"><i class="fa fa-check"></i><b>6.2.1</b> Die <code>R</code>-Hilfe</a></li>
<li class="chapter" data-level="6.2.2" data-path="funktionen.html"><a href="funktionen.html#namenlose-argumente"><i class="fa fa-check"></i><b>6.2.2</b> Namenlose Argumente</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="funktionen.html"><a href="funktionen.html#rückgabewerte"><i class="fa fa-check"></i><b>6.3</b> Rückgabewerte</a></li>
<li class="chapter" data-level="6.4" data-path="funktionen.html"><a href="funktionen.html#seiteneffekte"><i class="fa fa-check"></i><b>6.4</b> Seiteneffekte</a></li>
<li class="chapter" data-level="6.5" data-path="funktionen.html"><a href="funktionen.html#selbst-geschriebene-funktionen"><i class="fa fa-check"></i><b>6.5</b> Selbst geschriebene Funktionen</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="funktionen.html"><a href="funktionen.html#definition-der-eigenen-funktion"><i class="fa fa-check"></i><b>6.5.1</b> Definition der eigenen Funktion</a></li>
<li class="chapter" data-level="6.5.2" data-path="funktionen.html"><a href="funktionen.html#lokale-variablen"><i class="fa fa-check"></i><b>6.5.2</b> Lokale Variablen</a></li>
<li class="chapter" data-level="6.5.3" data-path="funktionen.html"><a href="funktionen.html#optionale-argumente"><i class="fa fa-check"></i><b>6.5.3</b> Optionale Argumente</a></li>
<li class="chapter" data-level="6.5.4" data-path="funktionen.html"><a href="funktionen.html#wann-schreibe-ich-meine-eigene-funktion"><i class="fa fa-check"></i><b>6.5.4</b> Wann schreibe ich meine eigene Funktion</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="funktionen.html"><a href="funktionen.html#fragen-zum-vertiefenden-verständnis-3"><i class="fa fa-check"></i><b>6.6</b> Fragen zum vertiefenden Verständnis</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="schleifen.html"><a href="schleifen.html"><i class="fa fa-check"></i><b>7</b> Schleifen</a>
<ul>
<li class="chapter" data-level="7.1" data-path="schleifen.html"><a href="schleifen.html#sequentielle-bepunktung-von-testitems"><i class="fa fa-check"></i><b>7.1</b> Sequentielle Bepunktung von Testitems</a></li>
<li class="chapter" data-level="7.2" data-path="schleifen.html"><a href="schleifen.html#berechnung-von-part-whole-korrigierten-trennschärfen"><i class="fa fa-check"></i><b>7.2</b> Berechnung von part-whole korrigierten Trennschärfen</a></li>
<li class="chapter" data-level="7.3" data-path="schleifen.html"><a href="schleifen.html#datenspeicherung-in-einer-schleife"><i class="fa fa-check"></i><b>7.3</b> Datenspeicherung in einer Schleife</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="schleifen.html"><a href="schleifen.html#adressierung-per-name"><i class="fa fa-check"></i><b>7.3.1</b> Adressierung per Name</a></li>
<li class="chapter" data-level="7.3.2" data-path="schleifen.html"><a href="schleifen.html#indexadressierung"><i class="fa fa-check"></i><b>7.3.2</b> Vektorspeicherung – Adressierung per Index</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="anhang.html"><a href="anhang.html"><i class="fa fa-check"></i><b>8</b> Anhang</a>
<ul>
<li class="chapter" data-level="8.1" data-path="anhang.html"><a href="anhang.html#datenEinlesen"><i class="fa fa-check"></i><b>8.1</b> Daten einlesen</a></li>
<li class="chapter" data-level="8.2" data-path="anhang.html"><a href="anhang.html#das-environment-sauber-halten"><i class="fa fa-check"></i><b>8.2</b> Das Environment sauber halten</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="anhang.html"><a href="anhang.html#variablen-löschen"><i class="fa fa-check"></i><b>8.2.1</b> Variablen löschen</a></li>
<li class="chapter" data-level="8.2.2" data-path="anhang.html"><a href="anhang.html#mit-einem-sauberen-environment-starten"><i class="fa fa-check"></i><b>8.2.2</b> Mit einem sauberen Environment starten</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="referenzen.html"><a href="referenzen.html"><i class="fa fa-check"></i><b>9</b> Referenzen</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Testtheorie mit <code>R</code></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="vektoren" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">2</span> Vektoren<a href="vektoren.html#vektoren" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Die einfachste und wichtigste Datenstruktur von <code>R</code> ist der
<em>Vektor</em>. Ein Vektor ist beispielsweise eine einzelne Zahl wie in den
Taschenrechner-Berechnungen in Kapitel 1. So gilt für die Berechnung
<code>1 + 3</code>:</p>
<ul>
<li><code>1</code> ist ein Vektor</li>
<li><code>3</code> ein Vektor</li>
<li>das Ergebnis <code>4</code> ist auch ein Vektor</li>
</ul>
<p>Das Interessante an Vektoren ist, dass der ein-elementige Vektor nur ein
Spezialfall ist. Im Normalfall können Vektoren mehrere Elemente
enthalten; die „atomare“ Einheit in <code>R</code> ist also nicht ein einzelnes
Element, sondern gleich eine Aneinanderreihung beliebig vieler<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a>
gleichartiger Elemente, etwa Zahlen. Statistische Berechnungen – wie
die Berechnung eines Mittelwerts oder einer Standardabweichung – lassen
sich direkt auf einer Menge an Daten durchführen, da diese in <strong>einem</strong>
Vektor gespeichert sind. Diese „Vektorbasiertheit“ ist vermutlich die
größte Stärke von <code>R</code> für statistische Berechnungen.</p>
<p>Elemente zu Vektoren zusammenfügen (sprich: <strong>mehrere</strong> Vektoren zu
<strong>einem</strong> Vektor zusammenfügen) funktioniert mit der <em>Funktion</em> <code>c()</code> –
die vermutlich basalste Funktion in <code>R</code>. Sie ist so simpel und
grundlegend, dass man sie gegebenenfalls vergisst, wenn man sie braucht
– versucht, sie zu erinnern!</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="vektoren.html#cb21-1" aria-hidden="true"></a><span class="co">## Füge mehrere Zahlen zu einem Vektor zusammen:</span></span>
<span id="cb21-2"><a href="vektoren.html#cb21-2" aria-hidden="true"></a><span class="kw">c</span>(<span class="fl">0.5</span>, <span class="dv">1</span>, <span class="fl">1.5</span>) <span class="co"># Kommazahlen mit DezimalPUNKT schreiben</span></span></code></pre></div>
<pre><code>[1] 0.5 1.0 1.5</code></pre>
<p>Man kann die Funktion <code>c()</code> auch auf eine einzelne Zahl anwenden. Das
ist dasselbe als würde man nur die Zahl eingeben:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="vektoren.html#cb23-1" aria-hidden="true"></a><span class="kw">c</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>[1] 1</code></pre>
<p>Folgendes geht auch, da <code>c()</code> mehrere Vektoren zu <strong>einem einzelnen</strong>
Vektor „verschmilzt“:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="vektoren.html#cb25-1" aria-hidden="true"></a><span class="kw">c</span>(<span class="fl">0.5</span>, <span class="dv">1</span>, <span class="fl">1.5</span>, <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>))</span></code></pre></div>
<pre><code>[1] 0.5 1.0 1.5 1.0 2.0 3.0</code></pre>
<p>Auf mehrelementigen Vektoren kann man statistische Berechnungen
durchführen, wie etwa die Bestimmung des arithmetischen Mittels, einer
Standardabweichung, der Varianz, oder des Minimums oder
Maximums:<a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a></p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="vektoren.html#cb27-1" aria-hidden="true"></a><span class="co">## Berechne einen Mittelwert</span></span>
<span id="cb27-2"><a href="vektoren.html#cb27-2" aria-hidden="true"></a><span class="kw">mean</span>(<span class="kw">c</span>(<span class="fl">0.5</span>, <span class="dv">1</span>, <span class="fl">1.5</span>))</span></code></pre></div>
<pre><code>[1] 1</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="vektoren.html#cb29-1" aria-hidden="true"></a><span class="co">## Berechne eine Standardabweichung</span></span>
<span id="cb29-2"><a href="vektoren.html#cb29-2" aria-hidden="true"></a><span class="kw">sd</span>(<span class="kw">c</span>(<span class="fl">0.5</span>, <span class="dv">1</span>, <span class="fl">1.5</span>))</span></code></pre></div>
<pre><code>[1] 0.5</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="vektoren.html#cb31-1" aria-hidden="true"></a><span class="co">## Berechne eine Varianz:</span></span>
<span id="cb31-2"><a href="vektoren.html#cb31-2" aria-hidden="true"></a><span class="kw">var</span>(<span class="kw">c</span>(<span class="fl">0.5</span>, <span class="dv">1</span>, <span class="fl">1.5</span>))</span></code></pre></div>
<pre><code>[1] 0.25</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="vektoren.html#cb33-1" aria-hidden="true"></a><span class="co">## Und jetzt noch einmal die Standardabweichung:</span></span>
<span id="cb33-2"><a href="vektoren.html#cb33-2" aria-hidden="true"></a><span class="kw">sqrt</span>(<span class="kw">var</span>(<span class="kw">c</span>(<span class="fl">0.5</span>, <span class="dv">1</span>, <span class="fl">1.5</span>))) <span class="co"># was ist `sqrt`?</span></span></code></pre></div>
<pre><code>[1] 0.5</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="vektoren.html#cb35-1" aria-hidden="true"></a><span class="co">## Minimum:</span></span>
<span id="cb35-2"><a href="vektoren.html#cb35-2" aria-hidden="true"></a><span class="kw">min</span>(<span class="kw">c</span>(<span class="fl">0.5</span>, <span class="dv">1</span>, <span class="fl">1.5</span>))</span></code></pre></div>
<pre><code>[1] 0.5</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="vektoren.html#cb37-1" aria-hidden="true"></a><span class="co">## Maximum:</span></span>
<span id="cb37-2"><a href="vektoren.html#cb37-2" aria-hidden="true"></a><span class="kw">max</span>(<span class="kw">c</span>(<span class="fl">0.5</span>, <span class="dv">1</span>, <span class="fl">1.5</span>))</span></code></pre></div>
<pre><code>[1] 1.5</code></pre>
<p>In diesem Code-Block haben wir implizit einen wichtigen Bestandteil von
<code>R</code> kennengelernt: <em>Funktionen</em>. Für den Einstieg reicht es für uns,
folgende Eigenschaften von Funktionen zu verstehen:</p>
<ul>
<li>Funktionen haben einen Namen – etwa: <code>mean</code> oder <code>c</code></li>
<li>Hinter dem Namen einer Funktion werden in Klammern ein oder mehrere
<em>Argumente</em> übergeben, etwa: ein Vektor</li>
<li>Wenn einer Funktion mehrere Argumente übergeben werden, werden diese
mit Kommata separiert, etwa: <code>c(1, 2, 3)</code></li>
<li>Funktionen führen mit den übergebenen Daten eine Berechnung durch und
geben uns das Ergebnis zurück</li>
</ul>
<p>Einfach gesagt nehmen also Funktionen Daten entgegen und geben wiederum
Daten zurück. Der Großteil unserer Arbeit mit <code>R</code> ist die Anwendung von
Funktionen. Es ist möglich, Funktionsaufrufe zu verschachteln, wie dieses
Beispiel zeigte:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="vektoren.html#cb39-1" aria-hidden="true"></a><span class="kw">sqrt</span>(<span class="kw">var</span>(<span class="kw">c</span>(<span class="fl">0.5</span>, <span class="dv">1</span>, <span class="fl">1.5</span>)))</span></code></pre></div>
<p>Hier wertet die Funktion <code>sqrt()</code> (die Wurzel; engl. <em>square root</em>) das
Ergebnis der Funktion <code>var()</code> aus, um eine Standardabweichnung zu
bestimmen. Der Aufruf ist also äquivalent zu <code>sqrt(0.25)</code>, da die
Varianz von 0.5, 1, und 1.5 gleich 0.25 ist. Diese Beobachtung offenbart
eine weitere wichtige Eigenschaft von <code>R</code>: Wir können unseren Code immer
als das verstehen, was er ergibt, wenn er von <code>R</code> ausgewertet wird. Es
macht keinen Unterschied, ob ich das Ergebnis einer Berechnung selber
„händisch“ aufschreibe – also hier 0.25 –, oder Code schreibe, der mir
dieses Ergebnis generiert – hier: <code>var(c(0.5, 1, 1.5))</code>.</p>
<p>Eine nützliche und oft verwendete Kurzform, um Vektoren aufsteigender,
ganzer Zahlen zu erstellen ist folgende:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="vektoren.html#cb40-1" aria-hidden="true"></a><span class="dv">1</span><span class="op">:</span><span class="dv">20</span></span></code></pre></div>
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20</code></pre>
<p>So lässt sich beispielsweise sehr einfach die Summe aller Zahlen von 1
bis 1,000 berechnen:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="vektoren.html#cb42-1" aria-hidden="true"></a><span class="kw">sum</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">1000</span>)</span></code></pre></div>
<pre><code>[1] 500500</code></pre>
<p>Wir können auch absteigende Sequenzen erstellen:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="vektoren.html#cb44-1" aria-hidden="true"></a><span class="dv">5</span><span class="op">:-</span><span class="dv">5</span></span></code></pre></div>
<pre><code> [1]  5  4  3  2  1  0 -1 -2 -3 -4 -5</code></pre>
<p>Diese Tabelle enthält einige nützliche Funktionen, die auf Vektoren
anwendbar sind (in <code>R</code>-Jargon: sie nehmen einen Vektor als <em>Argument</em>
an) und jeweils selber auch einen Vektor zurückgeben:</p>
<table>
<thead>
<tr class="header">
<th>Name</th>
<th>Funktionalität</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>mean</code></td>
<td>Berechnet den Mittelwert eines Vektors</td>
</tr>
<tr class="even">
<td><code>median</code></td>
<td>Berechnet den Median eines Vektors</td>
</tr>
<tr class="odd">
<td><code>sum</code></td>
<td>Berechnet die Summe aller Elemente eines Vektors</td>
</tr>
<tr class="even">
<td><code>max</code></td>
<td>Gibt den größten Wert eines Vektors zurück</td>
</tr>
<tr class="odd">
<td><code>min</code></td>
<td>Gibt den kleinsten Wert eines Vektors zurück</td>
</tr>
<tr class="even">
<td><code>length</code></td>
<td>Gibt die Zahl der Elemente eines Vektors zurück</td>
</tr>
<tr class="odd">
<td><code>sd</code></td>
<td>Berechnet die Standardabweichung eines Vektors</td>
</tr>
<tr class="even">
<td><code>var</code></td>
<td>Berechnet die Varianz eines Vektors</td>
</tr>
<tr class="odd">
<td><code>sort</code></td>
<td>Sortiert einen Vektor aufsteigend</td>
</tr>
<tr class="even">
<td><code>rev</code></td>
<td>Kehrt die Reihenfolge der Elemente im Vektor um</td>
</tr>
<tr class="odd">
<td><code>round</code></td>
<td>Rundet die Elemente in einem Vektor</td>
</tr>
<tr class="even">
<td><code>sqrt</code></td>
<td>Berechnet für jedes Element im Vektor die Quadratwurzel</td>
</tr>
<tr class="odd">
<td><code>unique</code></td>
<td>Gibt alle unterschiedlichen Werte eines Vektors aus</td>
</tr>
</tbody>
</table>
<p> </p>
<p>Für die Funktionen in dieser Tabelle gilt, dass sie zwar alle einen
Vektor zurückgeben, aber die Länge des Ausgabevektors unterschiedlich
sein kann. Die Funktionen <code>mean()</code> und <code>sum()</code> ergeben etwa Vektoren der
Länge 1, da sie genau einen Kennwert bestimmen. Die Funktionen <code>sort()</code>,
<code>sqrt()</code> und <code>round()</code> geben hingegen einen Vektor zurück, der aus
genauso vielen Elementen besteht wie der Eingabevektor.</p>
<div id="vektorisierung" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Vektorisierung<a href="vektoren.html#vektorisierung" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Basale mathematische Berechnungen werden gleich auf alle Elemente
eines Vektors angewendet:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="vektoren.html#cb46-1" aria-hidden="true"></a><span class="dv">1</span><span class="op">:</span><span class="dv">10</span> <span class="op">*</span><span class="st"> </span><span class="dv">2</span></span></code></pre></div>
<pre><code> [1]  2  4  6  8 10 12 14 16 18 20</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="vektoren.html#cb48-1" aria-hidden="true"></a>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span> <span class="op">*</span><span class="st"> </span><span class="dv">2</span>) <span class="op">-</span><span class="st"> </span><span class="dv">1</span></span></code></pre></div>
<pre><code> [1]  1  3  5  7  9 11 13 15 17 19</code></pre>
<p>Hierbei werden die Operationen <code>* 2</code> bzw. <code>-1</code> direkt auf alle Elemente
der Vektoren <code>1:10</code> bzw. <code>(1:10 * 2)</code> angewendet; die Ausgabe ist
jeweils ein Vektor der Länge 10. Bei gleich langen Vektoren werden
solche Operationen im Allgemeinen <strong>komponentenweise</strong> angewendet:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="vektoren.html#cb50-1" aria-hidden="true"></a><span class="dv">2</span><span class="op">:</span><span class="dv">4</span> <span class="op">*</span><span class="st"> </span><span class="dv">4</span><span class="op">:</span><span class="dv">6</span> <span class="co"># entspricht c(2*4, 3*5, 4*6)</span></span></code></pre></div>
<pre><code>[1]  8 15 24</code></pre>
<p>Dieses Verhalten ist typisch für <code>R</code>: Viele Funktionen und Operationen
in <code>R</code> arbeiten komponentenweise, wenn zwei Vektoren gleicher Länge
übergeben werden. Das Element an Position 1 im einen Vektor wird dann
mit dem Element an Position 1 im anderen Vektor gepaart, das Element an
Position 2 im einen Vektor mit dem Element an Position 2 im anderen
Vektor – und so weiter.</p>
<p>Werden ein ein-elementiger Vektor und ein mehr-elementiger Vektor mit
einer Berechnung (etwa einer Addition) verknüpft, wird normalerweise das
einzelne Element mit allen Elementen des anderen Vektors
„gepaart“.</p>
<p>Wir werden nur diese Fälle betrachten: Entweder wird ein ein-elementiger Vektor
mit einem längeren Vektor verknüpft oder zwei gleich lange Vektoren werden
miteinander verknüpft. Es ist auch möglich, andere Kombinationen von
Vektorlängen zu paaren, was wir jedoch erst einmal vernachlässigen;
interessierte Leser können die folgenden Befehle in die <code>R</code>-Konsole eingeben und
beobachten, was passiert.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="vektoren.html#cb52-1" aria-hidden="true"></a><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>) <span class="op">*</span><span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">4</span></span>
<span id="cb52-2"><a href="vektoren.html#cb52-2" aria-hidden="true"></a><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>) <span class="op">*</span><span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">3</span></span></code></pre></div>
</div>
<div id="variablen" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Variablen<a href="vektoren.html#variablen" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Wir wollen unsere Daten nicht nur in der Konsole ausgeben lassen,
sondern auch abspeichern und damit arbeiten. Ein essentieller
Bestandteil einer jeden Programmiersprache ist es, Daten in Variablen
abzuspeichern. Variablen sind Namen, mit deren Hilfe wir auf
gespeicherte Daten zugreifen. Wenn wir Daten in einer Variablen
abgespeichert haben, können wir unter dem Namen der Variablen immer
wieder darauf zugreifen. In <code>R</code> funktioniert das mit der Zuweisung
<code>&lt;-</code>.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="vektoren.html#cb53-1" aria-hidden="true"></a><span class="co">## Speichert einen Vektor in einer Variablen:</span></span>
<span id="cb53-2"><a href="vektoren.html#cb53-2" aria-hidden="true"></a>meinVektor &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">10</span>)</span></code></pre></div>
<p>Ich kann den Inhalt von Variablen in der <code>R</code>-Konsole ausgeben lassen,
wenn ich den Namen der Variablen in die Konsole schreibe und <code>Enter</code>
drücke:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="vektoren.html#cb54-1" aria-hidden="true"></a>meinVektor</span></code></pre></div>
<pre><code>[1]  1  2  6  7 10</code></pre>
<p>Ich kann Variablen in Berechnungen verwenden:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="vektoren.html#cb56-1" aria-hidden="true"></a>meinVektor <span class="op">*</span><span class="st"> </span><span class="dv">2</span></span></code></pre></div>
<pre><code>[1]  2  4 12 14 20</code></pre>
<p>Ich kann Funktionen auf Variablen anwenden und das Ergebnis der Funktion
wiederum in einer Variablen speichern:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="vektoren.html#cb58-1" aria-hidden="true"></a>xx &lt;-<span class="st"> </span><span class="kw">mean</span>(meinVektor)</span>
<span id="cb58-2"><a href="vektoren.html#cb58-2" aria-hidden="true"></a></span>
<span id="cb58-3"><a href="vektoren.html#cb58-3" aria-hidden="true"></a><span class="co">## &quot;Zentrierter&quot; numerischer Vektor:</span></span>
<span id="cb58-4"><a href="vektoren.html#cb58-4" aria-hidden="true"></a>meinVektor <span class="op">-</span><span class="st"> </span>xx</span></code></pre></div>
<pre><code>[1] -4.2 -3.2  0.8  1.8  4.8</code></pre>
<p>Variablen können an jeder Stelle verwendet werden, an der man Daten
sonst „händisch“ eingeben würde. Wir können jegliche Objekte – nicht
nur Vektoren, sondern auch Datentabellen oder beliebig komplizierte
Ergebnisse von Berechnungen – in Variablen speichern. Der Workflow in
<code>R</code> ist so ausgelegt, dass Zwischenergebnisse weiterverwendet werden
können. Hierbei unterscheidet es sich fundamental von SPSS, das einen
Unterschied zwischen Daten und „Output“ macht. In <code>R</code> kann das Ergebnis
jeglicher Berechnung als Input einer anderen Berechnung dienen.</p>
<div class="block">
<p>
<strong>Merke</strong>: In <code>R</code> kann (fast) alles in Variablen gespeichert und weiterverwendet werden.
</p>
</div>
<p>Wir können auch mit einem Gleichzeichen <code>=</code> Daten zu Variablen zuweisen.
Das funktioniert genauso wie mit <code>&lt;-</code>:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="vektoren.html#cb60-1" aria-hidden="true"></a>foo =<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">2</span></span>
<span id="cb60-2"><a href="vektoren.html#cb60-2" aria-hidden="true"></a>foo</span></code></pre></div>
<pre><code>[1] 1 2</code></pre>
<p>In <code>R</code> hat sich aus historischen Gründen die Konvention durchgesetzt,
<code>&lt;-</code> zu verwenden, die ich in diesem Skript auch befolgen werde. In
vielen anderen Programmiersprachen werden Variablen mit Gleichzeichen
zugewiesen.</p>
<div id="ausgabevsabspeichern" class="section level3 hasAnchor" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> Ausgabe versus Abspeichern<a href="vektoren.html#ausgabevsabspeichern" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Wir haben jetzt zwei verschiedene Möglichkeiten kennengelernt,
Objekte<a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a> in <code>R</code> zu verwenden:</p>
<ol style="list-style-type: decimal">
<li>Wir geben Objekte in der Konsole aus.</li>
<li>Wir speichern Objekte in einer Variable ab.</li>
</ol>
<p>Diese beiden Verwendungen sind <strong>fundamental</strong> unterschiedlich. Das mag
erst einmal trivial erscheinen, aber ist im Einzelfall nicht unbedingt
ersichtlich. Betrachten wir das folgende Beispiel:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="vektoren.html#cb62-1" aria-hidden="true"></a>bar &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">6</span>, <span class="dv">3</span>, <span class="dv">9</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">-3</span>)</span>
<span id="cb62-2"><a href="vektoren.html#cb62-2" aria-hidden="true"></a><span class="kw">sort</span>(bar)</span></code></pre></div>
<pre><code>[1] -3  2  3  3  5  6  7  9</code></pre>
<p>Die Funktion <code>sort()</code> sortiert den numerischen Vektor <code>bar</code> aufsteigend.
Wie sieht der Vektor <code>bar</code> nach der Operation aus? Es gibt zwei
Möglichkeiten:</p>
<ol style="list-style-type: decimal">
<li><code>bar</code> enthält den sortierten Vektor, den ich mithilfe von <code>sort(bar)</code>
erstellt habe</li>
<li><code>bar</code> enthält den unsortierten Vektor, den ich vor der Operation
<code>sort(bar)</code> erstellt habe</li>
</ol>
<p>Wir können die Frage leicht klären, indem wir <code>bar</code> in der Konsole
ausgeben:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="vektoren.html#cb64-1" aria-hidden="true"></a>bar</span></code></pre></div>
<pre><code>[1]  3  2  6  3  9  5  7 -3</code></pre>
<p>Offensichtlich hat <code>sort(bar)</code> den Vektor, der in der Variablen <code>bar</code>
gespeichert ist, nicht geändert. Das ist eine fundamentale Eigenschaft
der Programmiersprache <code>R</code>: <strong>Funktionen nehmen Daten an und sie geben
Daten zurück – sie verändern aber nicht die eingegebenen Daten</strong>. Wenn
wir wollen, dass <code>bar</code> die Zahlenfolge in sortierter Reihenfolge
enthält, können wir die folgende Befehlkette verwenden:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="vektoren.html#cb66-1" aria-hidden="true"></a>bar &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">6</span>, <span class="dv">3</span>, <span class="dv">9</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">-3</span>)</span>
<span id="cb66-2"><a href="vektoren.html#cb66-2" aria-hidden="true"></a>bar &lt;-<span class="st"> </span><span class="kw">sort</span>(bar)</span></code></pre></div>
<p>In diesem Fall geht der Ursprungsvektor verloren und wir behalten nur
den sortierten Vektor. Generell gilt: wenn wir Daten in der Konsole
ausgeben lassen, verschwinden diese sozusagen im „Nirvana“. Wenn wir mit
Daten weiterarbeiten wollen, müssen wir die Ausgabe einer Funktion in
einer Variablen speichern. Beide Verwendungszwecke sind denkbar:
Manchmal benötige ich nur die Ausgabe einer Berechnung, manchmal möchte
ich das Ergebnis abspeichern.</p>
</div>
<div id="variablennamen" class="section level3 hasAnchor" number="2.2.2">
<h3><span class="header-section-number">2.2.2</span> Variablennamen<a href="vektoren.html#variablennamen" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Generell bestehen Variablennamen aus Buchstaben und Zahlen und
den Zeichen <code>.</code> und <code>_</code>. Folgende Einschränkungen sind zu beachten:</p>
<ul>
<li>Variablennamen dürfen keine Leerzeichen enthalten
<ul>
<li><code>bla bla &lt;- c(1, 2)</code> funktioniert nicht</li>
<li><code>blabla  &lt;- c(1, 2)</code> funktioniert</li>
</ul></li>
<li>Variablennamen dürfen nicht mit einer Zahl starten
<ul>
<li><code>1bla &lt;- c(1, 2)</code> funktioniert nicht</li>
<li><code>bla1 &lt;- c(1, 2)</code> funktioniert</li>
</ul></li>
<li>Variablennamen dürfen keine Sonderzeichen außer <code>_</code> oder <code>.</code> enthalten
<ul>
<li><code>bla-bla &lt;- c(1, 2)</code> funktioniert nicht</li>
<li><code>bla%bla &lt;- c(1, 2)</code> funktioniert nicht</li>
<li><code>bla_bla &lt;- c(1, 2)</code> funktioniert</li>
<li><code>bla.bla &lt;- c(1, 2)</code> funktioniert</li>
</ul></li>
<li><code>bla &lt;- 1</code> ist nicht das Gleiche wie <code>Bla &lt;- 1</code> oder gar <code>BLA &lt;- 1</code></li>
<li>Vermeidet Umlaute in Variablennamen. <code>R</code> wird diese zwar
akzeptieren, aber ich würde dennoch davon abraten, sie zu nutzen.</li>
</ul>
<p>Eine fundamentale Schwierigkeit beim Programmieren ist das Finden
<em>guter</em> Variablennamen; <code>bla</code> und <code>blabla</code> sind denkbar schlechte
Variablennamen. Gute Variablennamen <em>sprechen</em>, d.h. sie machen eine
Aussage darüber, was für Daten sie beinhalten.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="vektoren.html#cb67-1" aria-hidden="true"></a><span class="co">## Schlechter Variablenname:</span></span>
<span id="cb67-2"><a href="vektoren.html#cb67-2" aria-hidden="true"></a>foo &lt;-<span class="st"> </span><span class="kw">mean</span>(age)</span>
<span id="cb67-3"><a href="vektoren.html#cb67-3" aria-hidden="true"></a></span>
<span id="cb67-4"><a href="vektoren.html#cb67-4" aria-hidden="true"></a><span class="co">## Ggf. etwas besser:</span></span>
<span id="cb67-5"><a href="vektoren.html#cb67-5" aria-hidden="true"></a>mean_age &lt;-<span class="st"> </span><span class="kw">mean</span>(age)</span></code></pre></div>
<p>Beachtet <strong>immer</strong> folgende Regel: Variablennamen sollten nicht lügen,
also verwendet niemals einen Namen der folgenden Art:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="vektoren.html#cb68-1" aria-hidden="true"></a>mean_age &lt;-<span class="st"> </span><span class="kw">sd</span>(age) <span class="co"># Niemals machen!</span></span></code></pre></div>
<p>Man ist schnell geneigt einen unsinnigen Variablennamen zu vergeben, um
keine Zeit mit der Namensfindung zu verschwenden – man hat ja
schließlich wichtigen Code zu schreiben! Man sollte sich jedoch so gut
wie immer kurz Zeit nehmen, einen sinnigen Namen zu finden – das
zukünftige Selbst wird es einem danken. Unsinnige Variablennamen sind in
Ordnung, wenn man sich zu 100% sicher ist, dass man die Variable nach
einmaliger Nutzung nicht mehr verwendet. Wenn man eine Variable nicht
mehr benutzen möchte, kann man sie mit der <code>rm()</code> Funktion löschen:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="vektoren.html#cb69-1" aria-hidden="true"></a>foo &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span> <span class="co"># Wegwerfvariable</span></span>
<span id="cb69-2"><a href="vektoren.html#cb69-2" aria-hidden="true"></a><span class="kw">rm</span>(foo)</span>
<span id="cb69-3"><a href="vektoren.html#cb69-3" aria-hidden="true"></a>foo</span>
<span id="cb69-4"><a href="vektoren.html#cb69-4" aria-hidden="true"></a>Fehler<span class="op">:</span><span class="st"> </span>Objekt <span class="st">&#39;foo&#39;</span> nicht gefunden</span></code></pre></div>
<p>Weiterhin ist es guter Stil <em>konsistent</em> in der Vergebung der
Variablennamen zu sein. Variablennamen sollen einen semantischen Gehalt
haben, das heißt sie machen eine Aussage darüber, welche Daten sie
enthalten. Häufig ist diese Information nicht in einem Wort
erklärbar. Um auszusagen, dass eine Variable „das mittlere Alter“
enthält, müssen mindestens die Anteile „mittel“ und „Alter“ enthalten
sein. Wie soll das verknüpft werden? Verschiedene Konventionen
existieren; wichtig ist, dass ihr euch konsistent für eine Variante
entscheidet.<a href="#fn7" class="footnote-ref" id="fnref7"><sup>7</sup></a></p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="vektoren.html#cb70-1" aria-hidden="true"></a><span class="co">## Mögliche Konventionen der Namensgebung von Variablen:</span></span>
<span id="cb70-2"><a href="vektoren.html#cb70-2" aria-hidden="true"></a>mean_age &lt;-<span class="st"> </span><span class="kw">mean</span>(age)</span>
<span id="cb70-3"><a href="vektoren.html#cb70-3" aria-hidden="true"></a>mean.age &lt;-<span class="st"> </span><span class="kw">mean</span>(age)</span>
<span id="cb70-4"><a href="vektoren.html#cb70-4" aria-hidden="true"></a>meanAge  &lt;-<span class="st"> </span><span class="kw">mean</span>(age)</span>
<span id="cb70-5"><a href="vektoren.html#cb70-5" aria-hidden="true"></a></span>
<span id="cb70-6"><a href="vektoren.html#cb70-6" aria-hidden="true"></a><span class="co">## keine gute Konvention:</span></span>
<span id="cb70-7"><a href="vektoren.html#cb70-7" aria-hidden="true"></a>meanage  &lt;-<span class="st"> </span><span class="kw">mean</span>(age)</span></code></pre></div>
</div>
</div>
<div id="datentypen-von-vektoren" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Datentypen von Vektoren<a href="vektoren.html#datentypen-von-vektoren" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In <code>R</code> hat jeder Vektor genau einen Datentyp. Bis jetzt haben wir nur
mit dem Datentyp Zahl gearbeitet, der in <code>R</code> „<code>numeric</code>“ heißt. Der
Datentyp eines Vektors bestimmt, was für Operationen wir damit
durchführen können. Vektoren vom Typ <code>numeric</code> etwa kann man addieren,
multiplizieren und so weiter. Mit der Funktion <code>mode</code> können wir
überprüfen, welchen Datentyp ein Vektor hat:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="vektoren.html#cb71-1" aria-hidden="true"></a><span class="kw">mode</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code>[1] &quot;numeric&quot;</code></pre>
<p>In diesem Abschnitt werden weitere Datentypen behandelt, die wir nutzen,
um unterschiedliche Informationen darzustellen.</p>
<div id="character" class="section level3 hasAnchor" number="2.3.1">
<h3><span class="header-section-number">2.3.1</span> <code>character</code><a href="vektoren.html#character" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Der Datentyp für Text heißt <code>character</code>. Text wird mit doppelten oder
einfachen Anführungszeichen angegeben:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="vektoren.html#cb73-1" aria-hidden="true"></a><span class="st">&quot;Hallo Welt!&quot;</span> <span class="co"># doppelte Anführungszeichen</span></span></code></pre></div>
<pre><code>[1] &quot;Hallo Welt!&quot;</code></pre>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="vektoren.html#cb75-1" aria-hidden="true"></a>mein_text &lt;-<span class="st"> &#39;bla bla bla&#39;</span> <span class="co"># einfache Anführungszeichen</span></span>
<span id="cb75-2"><a href="vektoren.html#cb75-2" aria-hidden="true"></a></span>
<span id="cb75-3"><a href="vektoren.html#cb75-3" aria-hidden="true"></a><span class="co">## zwei-elementiger Vektor vom Typ character:</span></span>
<span id="cb75-4"><a href="vektoren.html#cb75-4" aria-hidden="true"></a>mein_text2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Cronbachs&quot;</span>, <span class="st">&quot;Alpha&quot;</span>)</span></code></pre></div>
<p>Mit Texten können wir andere Operationen durchführen als mit Zahlen,
etwa ergibt Folgendes eine Fehlermeldung<a href="#fn8" class="footnote-ref" id="fnref8"><sup>8</sup></a> und ergibt auch
gar keinen Sinn, da man Text nicht mit einer Zahl multiplizieren kann:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="vektoren.html#cb76-1" aria-hidden="true"></a><span class="st">&quot;bla&quot;</span> <span class="op">*</span><span class="st"> </span><span class="dv">2</span></span>
<span id="cb76-2"><a href="vektoren.html#cb76-2" aria-hidden="true"></a>Fehler <span class="cf">in</span> <span class="st">&quot;bla&quot;</span> <span class="op">*</span><span class="st"> </span><span class="dv">2</span> <span class="op">:</span><span class="st"> </span>nicht<span class="op">-</span>numerisches Argument</span>
<span id="cb76-3"><a href="vektoren.html#cb76-3" aria-hidden="true"></a>für binären Operator</span></code></pre></div>
<p>In erster Linie werden wir Vektoren vom Typ <code>character</code> für Datenzugriffe
verwenden; im Speziellen werden wir sie einsetzen, um Spalten in Datentabellen
zu adressieren, da Spalten normalerweise per Namen angesteuert werden (siehe
<a href="dataframes.html#datenzugriffe">Kapitel 3</a>).</p>
</div>
<div id="logical" class="section level3 hasAnchor" number="2.3.2">
<h3><span class="header-section-number">2.3.2</span> <code>logical</code><a href="vektoren.html#logical" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Es hat sich als nützlich erwiesen, einen Datentyp einzuführen, der
„Wahrheit“ kodiert. Dieser Datentyp wird in <code>R</code> “logical” genannt; er
kennt nur die Ausprägungen <code>TRUE</code> und <code>FALSE</code>. Eine sonst gängige
Bezeichnung für diesen Datentyp ist auch “boolean”.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="vektoren.html#cb77-1" aria-hidden="true"></a>wahr   &lt;-<span class="st"> </span><span class="ot">TRUE</span></span>
<span id="cb77-2"><a href="vektoren.html#cb77-2" aria-hidden="true"></a>falsch &lt;-<span class="st"> </span><span class="ot">FALSE</span></span></code></pre></div>
<p>Im Allgemeinen interpretieren wir <code>TRUE</code>/<code>FALSE</code> als logische Bedingungen, die
entweder erfüllt sind oder nicht. Ist die Ampel grün? Hat die Versuchsperson
eine Reaktionszeit von 2000ms oder mehr? Ist der Kuchen schon 60 Minuten im
Ofen? Wir werden häufig vom Typ <code>logical</code> Gebrauch machen, wenn wir in
Datentabellen Fälle auswählen; dann wird jeweils überprüft, welche
Fälle die gewünschten Bedingungen erfüllen und anhand dessen findet
eine Auswahl statt (etwa: wähle alle weiblichen oder männlichen Teilnehmer/innen
in einer Umfrage aus).</p>
<p>Mit logischen Werten kann man die logischen Operationen UND (in <code>R</code>: <code>&amp;</code>
), ODER (in <code>R</code>: <code>|</code> ) und NICHT (in <code>R</code>: <code>!</code> ) umsetzen. UND und ODER
verknüpfen jeweils zwei logische Bedingungen (sprich: zwei logische Werte, also
<code>TRUE</code>/<code>FALSE</code>) miteinander und geben selbst einen logischen Wert zurück. UND
gibt dann <code>TRUE</code> aus, wenn beide Bedingungen erfüllt sind, also nur dann, wenn
die erste <strong>und</strong> die zweite Bedingung erfüllt ist:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="vektoren.html#cb78-1" aria-hidden="true"></a><span class="co">## Logisches UND</span></span>
<span id="cb78-2"><a href="vektoren.html#cb78-2" aria-hidden="true"></a><span class="ot">TRUE</span> <span class="op">&amp;</span><span class="st"> </span><span class="ot">TRUE</span></span></code></pre></div>
<pre><code>[1] TRUE</code></pre>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="vektoren.html#cb80-1" aria-hidden="true"></a><span class="ot">TRUE</span> <span class="op">&amp;</span><span class="st"> </span><span class="ot">FALSE</span></span></code></pre></div>
<pre><code>[1] FALSE</code></pre>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="vektoren.html#cb82-1" aria-hidden="true"></a><span class="ot">FALSE</span> <span class="op">&amp;</span><span class="st"> </span><span class="ot">FALSE</span></span></code></pre></div>
<pre><code>[1] FALSE</code></pre>
<p>ODER ist etwas weniger streng und gibt auch dann schon <code>TRUE</code> aus, wenn
mindestens eine Bedingung erfüllt ist, also wenn die erste <strong>oder</strong> die zweite
Bedingung erfüllt ist:</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="vektoren.html#cb84-1" aria-hidden="true"></a><span class="co">## Logisches ODER</span></span>
<span id="cb84-2"><a href="vektoren.html#cb84-2" aria-hidden="true"></a><span class="ot">TRUE</span> <span class="op">|</span><span class="st"> </span><span class="ot">TRUE</span></span></code></pre></div>
<pre><code>[1] TRUE</code></pre>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="vektoren.html#cb86-1" aria-hidden="true"></a><span class="ot">TRUE</span> <span class="op">|</span><span class="st"> </span><span class="ot">FALSE</span></span></code></pre></div>
<pre><code>[1] TRUE</code></pre>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="vektoren.html#cb88-1" aria-hidden="true"></a><span class="ot">FALSE</span> <span class="op">|</span><span class="st"> </span><span class="ot">FALSE</span></span></code></pre></div>
<pre><code>[1] FALSE</code></pre>
<p>Beachtet, dass ODER immer <code>TRUE</code> ausgibt, wenn mindestens eine Bedingung erfüllt
ist; also auch dann, wenn beide Bedingungen erfüllt sind – es ist kein
umgangssprachliches entweder/oder.</p>
<p>Das logische NICHT invertiert die Eingabe: Aus <code>TRUE</code> wird <code>FALSE</code> und
umgekehrt.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="vektoren.html#cb90-1" aria-hidden="true"></a><span class="co">## Logisches NICHT</span></span>
<span id="cb90-2"><a href="vektoren.html#cb90-2" aria-hidden="true"></a><span class="op">!</span><span class="ot">TRUE</span></span></code></pre></div>
<pre><code>[1] FALSE</code></pre>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="vektoren.html#cb92-1" aria-hidden="true"></a><span class="op">!</span><span class="ot">FALSE</span></span></code></pre></div>
<pre><code>[1] TRUE</code></pre>
<p>Die logischen Operationen UND und ODER arbeiten komponentenweise auf
Vektoren, die mehr als ein Element enthalten:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="vektoren.html#cb94-1" aria-hidden="true"></a><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>) <span class="op">&amp;</span><span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>)</span></code></pre></div>
<pre><code>[1]  TRUE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="vektoren.html#cb96-1" aria-hidden="true"></a><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>) <span class="op">|</span><span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>)</span></code></pre></div>
<pre><code>[1]  TRUE  TRUE FALSE</code></pre>
<p>Auch das logische NICHT arbeitet vektorisiert. Es kann auf einen
logischen Vektor angewendet werden, der beliebig viele Elemente enthält
und kehrt alle Elemente darin um:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="vektoren.html#cb98-1" aria-hidden="true"></a><span class="op">!</span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>)</span></code></pre></div>
<pre><code>[1] FALSE  TRUE</code></pre>
<p>Während die Operationen UND, ODER und NICHT an dieser Stelle nur
abstrakt eingeführt werden, werden wir in weiteren Abschnitten (<a href="vektoren.html#logischerZugriff">Kapitel
2</a> und <a href="dataframes.html#datenzugriffe">Kapitel 3</a>) noch lernen, wie
wir logische Bedingungen verwenden, um gezielt Daten mit bestimmten
Eigenschaften auszuwählen.</p>
</div>
<div id="factor" class="section level3 hasAnchor" number="2.3.3">
<h3><span class="header-section-number">2.3.3</span> <code>factor</code><a href="vektoren.html#factor" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Vektoren vom Typ <code>factor</code> stellen kategoriale Variablen dar – etwa die
unabhängigen Variablen in einer Varianzanalyse. Mithilfe der Funktion
<code>factor()</code> können wir einen Vektor vom Typ <code>factor</code> erstellen:</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="vektoren.html#cb100-1" aria-hidden="true"></a>laune &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>)</span>
<span id="cb100-2"><a href="vektoren.html#cb100-2" aria-hidden="true"></a></span>
<span id="cb100-3"><a href="vektoren.html#cb100-3" aria-hidden="true"></a>laune_faktor &lt;-<span class="st"> </span><span class="kw">factor</span>(</span>
<span id="cb100-4"><a href="vektoren.html#cb100-4" aria-hidden="true"></a>  laune, </span>
<span id="cb100-5"><a href="vektoren.html#cb100-5" aria-hidden="true"></a>  <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>,</span>
<span id="cb100-6"><a href="vektoren.html#cb100-6" aria-hidden="true"></a>  <span class="kw">c</span>(<span class="st">&quot;:(&quot;</span>, <span class="st">&quot;:)&quot;</span>, <span class="st">&quot;:D&quot;</span>)</span>
<span id="cb100-7"><a href="vektoren.html#cb100-7" aria-hidden="true"></a>)</span>
<span id="cb100-8"><a href="vektoren.html#cb100-8" aria-hidden="true"></a></span>
<span id="cb100-9"><a href="vektoren.html#cb100-9" aria-hidden="true"></a>laune_faktor</span></code></pre></div>
<pre><code>[1] :( :) :D :( :) :(
Levels: :( :) :D</code></pre>
<p>Die Funktion <code>factor()</code> wandelt die numerischen Werte im Vektor <code>laune</code>
in den Typ <code>factor</code> um. Das heißt: Den numerischen Kategorien (1, 2 und
3) in <code>laune</code> wird eine textuelle Beschreibung zugeordnet, hier
umgesetzt durch unterschiedlich fröhliche Smileys. Es macht nur dann
Sinn einen Vektor vom Typ <code>factor</code> anzulegen, wenn eine numerische
Variable eine vordefinierte Zahl an Ausprägungen aufweist. Welche
Ausprägungen im Eingangsvektor in diesem Fall möglich sind, habe ich mit
dem zweiten Argument – <code>1:3</code> – spezifiziert.</p>
<p>Die Darstellung als <code>factor</code> ist für Menschen besser zu verarbeiten als
numerische Kategorien. Die Bedeutung der numerischen Kodierung stellt
eine Gedächtnisbelastung dar: War beispielsweise ein höherer Wert in
<code>laune</code> besonders traurig oder besonders fröhlich? Ein Problem ist
oftmals auch die Kodierung des Geschlechts von Studienteilnehmer*innen:
Wurde weibliche Teilnehmerinnen jetzt mit einer 1 oder mit einer 2
kodiert? Bei einer Dateneingabe werden oftmals numerische Kodierungen
eingegeben, da dies schneller geht als einen Text abzutippen. In der
Datenauswertung sollten solche numerischen kategorialen Variablen jedoch
<strong>immer</strong> in <code>factor</code> umgewandelt werden, damit die Kodierung eindeutig
ist.</p>
<p>Mit einem Vektor vom Typ <code>factor</code> kann ich keine numerischen
Berechnungen mehr durchführen, da er <strong>kategoriale</strong> Daten beinhaltet.
Etwa kann ich für <code>laune_faktor</code> keinen Mittelwert berechnen:</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="vektoren.html#cb102-1" aria-hidden="true"></a><span class="kw">mean</span>(laune)</span></code></pre></div>
<pre><code>[1] 1.666667</code></pre>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="vektoren.html#cb104-1" aria-hidden="true"></a><span class="kw">mean</span>(laune_faktor)</span></code></pre></div>
<pre><code>[1] NA</code></pre>
<p>Da die Berechnung nicht möglich ist, gibt <code>R</code> folgende recht technisch
klingende “Warnmeldung” aus:</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="vektoren.html#cb106-1" aria-hidden="true"></a>Warnmeldung<span class="op">:</span></span>
<span id="cb106-2"><a href="vektoren.html#cb106-2" aria-hidden="true"></a>In <span class="kw">mean.default</span>(laune_faktor) <span class="op">:</span></span>
<span id="cb106-3"><a href="vektoren.html#cb106-3" aria-hidden="true"></a><span class="st">  </span>Argument ist weder numerisch noch boolesch<span class="op">:</span><span class="st"> </span>gebe <span class="ot">NA</span> zurück</span></code></pre></div>
<p>In den meisten Fällen verhält sich ein Faktor wie ein Vektor vom Typ
<code>character</code> und nicht wie ein numerischer Vektor (ein Beispiel dafür
findet sich im Abschnitt <a href="vektoren.html#logischevergleiche">Logische Vergleiche</a>
weiter unten). Inhaltlich macht das Sinn: In beiden Fällen ist das
Vektorelement ein „Text“ – eine verbale Beschreibung. Der Unterschied
ist, dass wir Faktoren normalerweise erhalten, indem wir eine numerische
Kodierung in eine für Menschen verständliche verbale Beschreibung
umwandeln.</p>
</div>
<div id="na" class="section level3 hasAnchor" number="2.3.4">
<h3><span class="header-section-number">2.3.4</span> <code>NA</code><a href="vektoren.html#na" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>R</code> hat einen eigenen Datentyp, um fehlende Werte zu kodieren:
<code>NA</code>.<a href="#fn9" class="footnote-ref" id="fnref9"><sup>9</sup></a> Da wir mit echten Datensätzen arbeiten, die oftmals „messy“
sind, also nicht notwendigerweise vollständig, ist diese Eigenschaft
sehr nützlich. Gerade bei der Arbeit mit Daten in der psychologischen
Diagnostik ist das wichtig: Menschen geben in Fragebögen eben nicht
immer auf alle Fragen eine Antwort.</p>
<p>Man kann selber Vektoren erstellen, die fehlende Werte enthalten:</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="vektoren.html#cb107-1" aria-hidden="true"></a>messy_data &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">9</span>, <span class="dv">3</span>, <span class="ot">NA</span>, <span class="dv">6</span>, <span class="ot">NA</span>, <span class="dv">5</span>)</span></code></pre></div>
<p>Die Anwesenheit von fehlenden Werten hat Auswirkungen darauf, welche
Berechnungen <code>R</code> mit dem Vektor anstellen kann. Etwa können wir nicht
mehr ohne Weiteres einen Mittelwert berechnen:</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="vektoren.html#cb108-1" aria-hidden="true"></a><span class="kw">mean</span>(messy_data) <span class="co"># geht nicht wegen des fehlenden Werts</span></span></code></pre></div>
<pre><code>[1] NA</code></pre>
<p>Man muss <code>R</code> explizit mitteilen, dass man trotz des Auftretens fehlender
Werte einen Mittelwert ausrechnen möchte. Dies funktioniert mit dem
<em>optionalen Argument</em> <code>na.rm</code><a href="#fn10" class="footnote-ref" id="fnref10"><sup>10</sup></a> der Funktion <code>mean()</code>, welches
wir auf <code>TRUE</code> setzen können. Mit dem <em>Argument</em> <code>na.rm</code> (“NA remove”)
teilen wir der Funktion <code>mean()</code> mit, dass fehlende Werte bei der
Berechnung des Mittelwerts nicht berücksichtigt werden sollen. Ähnliche
Funktionen wie <code>sd()</code> und <code>var()</code> nehmen auch das Argument <code>na.rm</code> an;
andere Funktionen hingegen ignorieren fehlende Werte schon von Haus aus.</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="vektoren.html#cb110-1" aria-hidden="true"></a><span class="kw">mean</span>(messy_data, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<pre><code>[1] 4.142857</code></pre>
<p>Hierbei nehmen wir zur Kenntnis, dass man Argumente von Funktionen
benennen kann (per “<code>na.rm =</code>”), was wir aber nicht immer machen. Zu
diesem Thema mehr in <a href="dataframes.html#subset">Kapitel 3</a>.</p>
</div>
</div>
<div id="logischevergleiche" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> Logische Vergleiche<a href="vektoren.html#logischevergleiche" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Wir können in <code>R</code> mithilfe von logischen Abfragen überprüfen, ob die
Elemente in einem Vektor bestimmte Eigenschaften aufweisen. So können
wir beispielsweise erfragen, welche Werte eines numerischen Vektors (a)
gleich, (b) größer, (c) kleiner, (d) größer gleich, (e) kleiner gleich
oder (f) ungleich einem bestimmten Wert sind. Der folgende
Code-Abschnitt stellt die grundlegenden logischen Vergleiche für
numerische Vektoren dar:</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="vektoren.html#cb112-1" aria-hidden="true"></a>vergleichswert &lt;-<span class="st"> </span><span class="dv">3</span></span>
<span id="cb112-2"><a href="vektoren.html#cb112-2" aria-hidden="true"></a>daten &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">5</span></span>
<span id="cb112-3"><a href="vektoren.html#cb112-3" aria-hidden="true"></a>daten <span class="op">&gt;</span><span class="st"> </span>vergleichswert</span></code></pre></div>
<pre><code>[1] FALSE FALSE FALSE  TRUE  TRUE</code></pre>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="vektoren.html#cb114-1" aria-hidden="true"></a>daten <span class="op">&lt;</span><span class="st"> </span>vergleichswert</span></code></pre></div>
<pre><code>[1]  TRUE  TRUE FALSE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="vektoren.html#cb116-1" aria-hidden="true"></a>daten <span class="op">&gt;=</span><span class="st"> </span>vergleichswert</span></code></pre></div>
<pre><code>[1] FALSE FALSE  TRUE  TRUE  TRUE</code></pre>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="vektoren.html#cb118-1" aria-hidden="true"></a>daten <span class="op">&lt;=</span><span class="st"> </span>vergleichswert</span></code></pre></div>
<pre><code>[1]  TRUE  TRUE  TRUE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="vektoren.html#cb120-1" aria-hidden="true"></a>daten <span class="op">==</span><span class="st"> </span>vergleichswert</span></code></pre></div>
<pre><code>[1] FALSE FALSE  TRUE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="vektoren.html#cb122-1" aria-hidden="true"></a>daten <span class="op">!=</span><span class="st"> </span>vergleichswert</span></code></pre></div>
<pre><code>[1]  TRUE  TRUE FALSE  TRUE  TRUE</code></pre>
<p>Das Ergebnis dieser Operationen ist ein logischer Vektor aus <code>TRUE</code> und
<code>FALSE</code> Werten. Die Werte nehmen <code>TRUE</code> an, wenn die Zahlen die
kleiner/größer/gleich Bedingung erfüllen – andernfalls <code>FALSE</code>.
<strong>Beachtet, dass auf Gleichheit mit dem “doppelten” <code>==</code> Operator
getestet wird und nicht mit einem einfachen <code>=</code>.</strong> Dies ist eine häufige
Quelle von Fehlern, die schwierig zu entdecken sind. Betrachtet etwa
folgenden Code – was geht hier schief?</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="vektoren.html#cb124-1" aria-hidden="true"></a>daten =<span class="st"> </span>vergleichswert</span></code></pre></div>
<p>Hierbei wird die Variable <code>daten</code> mit dem Wert in der Variablen
<code>vergleichswert</code> überschrieben, da <code>=</code> als Zuweisung agiert:</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="vektoren.html#cb125-1" aria-hidden="true"></a>daten</span></code></pre></div>
<pre><code>[1] 3</code></pre>
<p>Dies ist ein Beispiel für einen Fehler (<em>Bug</em>), den man nicht anhand von
einer Fehlermeldung bemerkt, da der Befehl <em>syntaktisch</em> korrekt ist. Es
ist jedoch problematisch, dass ich an dieser Stelle meine Daten mit
einem irrelevanten Wert überschrieben habe, und das bei einem späteren
Zugriff darauf vermutlich nicht beachten werde.</p>
<div id="logische-vergleiche-mit-vektoren-vom-typ-character" class="section level3 hasAnchor" number="2.4.1">
<h3><span class="header-section-number">2.4.1</span> Logische Vergleiche mit Vektoren vom Typ <code>character</code><a href="vektoren.html#logische-vergleiche-mit-vektoren-vom-typ-character" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Welche logischen Vergleiche möglich sind, hängt vom Datentyp eines
Vektors ab. Für Vektoren vom Typ <code>character</code> etwa macht eine
Kleiner/Größer-Abfrage keinen Sinn, jedoch eine Abfrage auf Gleichheit:</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="vektoren.html#cb127-1" aria-hidden="true"></a>text1 &lt;-<span class="st"> &quot;Hallo Welt&quot;</span></span>
<span id="cb127-2"><a href="vektoren.html#cb127-2" aria-hidden="true"></a>text1 <span class="op">==</span><span class="st"> &quot;Hallo Welt&quot;</span></span></code></pre></div>
<pre><code>[1] TRUE</code></pre>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="vektoren.html#cb129-1" aria-hidden="true"></a>text1 <span class="op">==</span><span class="st"> &quot;Hallo Welt!&quot;</span></span></code></pre></div>
<pre><code>[1] FALSE</code></pre>
<p>Das funktioniert auch mit Vektoren vom Typ <code>factor</code>, die sich ja
größtenteils wie Vektoren vom Typ <code>character</code> verhalten. Hier wird beim
Test auf Gleichheit das überprüfte <code>factor</code>-Label in Anführungszeichen
gesetzt:</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="vektoren.html#cb131-1" aria-hidden="true"></a>geschlecht &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">3</span>)</span>
<span id="cb131-2"><a href="vektoren.html#cb131-2" aria-hidden="true"></a>geschlecht &lt;-<span class="st"> </span><span class="kw">factor</span>(</span>
<span id="cb131-3"><a href="vektoren.html#cb131-3" aria-hidden="true"></a>  geschlecht, </span>
<span id="cb131-4"><a href="vektoren.html#cb131-4" aria-hidden="true"></a>  <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>,</span>
<span id="cb131-5"><a href="vektoren.html#cb131-5" aria-hidden="true"></a>  <span class="kw">c</span>(<span class="st">&quot;weiblich&quot;</span>, <span class="st">&quot;maennlich&quot;</span>, <span class="st">&quot;divers&quot;</span>)</span>
<span id="cb131-6"><a href="vektoren.html#cb131-6" aria-hidden="true"></a>)</span>
<span id="cb131-7"><a href="vektoren.html#cb131-7" aria-hidden="true"></a>geschlecht <span class="op">==</span><span class="st"> &quot;maennlich&quot;</span></span></code></pre></div>
<pre><code>[1] FALSE  TRUE FALSE FALSE  TRUE FALSE FALSE</code></pre>
</div>
<div id="komponentenweise-vergleiche" class="section level3 hasAnchor" number="2.4.2">
<h3><span class="header-section-number">2.4.2</span> Komponentenweise Vergleiche<a href="vektoren.html#komponentenweise-vergleiche" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Wenn zwei Vektoren gleicher Länge mit logischen Operatoren verglichen
werden, werden die Elemente komponentenweise verglichen:</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="vektoren.html#cb133-1" aria-hidden="true"></a>score_test1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">23</span>, <span class="dv">19</span>, <span class="dv">44</span>, <span class="dv">18</span>, <span class="dv">25</span>, <span class="dv">22</span>)</span>
<span id="cb133-2"><a href="vektoren.html#cb133-2" aria-hidden="true"></a>score_test2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">26</span>, <span class="dv">23</span>, <span class="dv">29</span>, <span class="dv">18</span>, <span class="dv">32</span>, <span class="dv">19</span>)</span>
<span id="cb133-3"><a href="vektoren.html#cb133-3" aria-hidden="true"></a></span>
<span id="cb133-4"><a href="vektoren.html#cb133-4" aria-hidden="true"></a>score_test1 <span class="op">&gt;</span><span class="st"> </span>score_test2</span></code></pre></div>
<pre><code>[1] FALSE FALSE  TRUE FALSE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="vektoren.html#cb135-1" aria-hidden="true"></a>score_test1 <span class="op">==</span><span class="st"> </span>score_test2</span></code></pre></div>
<pre><code>[1] FALSE FALSE FALSE  TRUE FALSE FALSE</code></pre>
<p>Erneut treffen wir auf dieses komponentenweise Verhalten. Wir
können noch eine Schippe drauf legen, indem wir vektorisierte
logische Vergleiche mit vektorisierten UND- oder ODER-Operationen
verbinden:</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="vektoren.html#cb137-1" aria-hidden="true"></a>(score_test1 <span class="op">&gt;</span><span class="st"> </span>score_test2) <span class="op">|</span><span class="st"> </span>(score_test1 <span class="op">&gt;</span><span class="st"> </span><span class="dv">23</span>)</span></code></pre></div>
<pre><code>[1] FALSE FALSE  TRUE FALSE  TRUE  TRUE</code></pre>
<p>Es macht an dieser Stelle Sinn, darüber nachzudenken, wie diese Ausgabe
zustande kommt.</p>
</div>
<div id="anwendungsbeispiel-überprüfe-das-gesetz-der-großen-zahlen" class="section level3 hasAnchor" number="2.4.3">
<h3><span class="header-section-number">2.4.3</span> Anwendungsbeispiel: Überprüfe das Gesetz der großen Zahlen<a href="vektoren.html#anwendungsbeispiel-überprüfe-das-gesetz-der-großen-zahlen" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Häufig verwendet man die Vergleichsoperatoren, um zu prüfen, wie viele
Daten eine bestimmte Eigenschaft erfüllen. Dafür können wir die
Vergleichsoperatoren mit den Funktionen <code>sum()</code> oder <code>mean()</code>
verknüpfen.</p>
<p>Dafür bietet sich ein Beispiel aus der Statistik an: Wie viele von 1,000
Zufallsdaten aus einer Standardnormalverteilung sind größer als 1? <code>R</code>
hat zahlreiche Funktionen, um Zufallszahlen aus verschiedenen
Verteilungen zu generieren. Mit <code>rnorm()</code> lassen sich Zufallszahlen
generieren, die einer Normalverteilung folgen; wenn man keine weiteren
Argumente angibt, ist die Standardnormalverteilung gemeint, die einen
Mittelwert von <code>0</code> und eine Standardabweichung von <code>1</code> hat:</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="vektoren.html#cb139-1" aria-hidden="true"></a><span class="co"># Erstelle 1,000 Zufallsdaten:</span></span>
<span id="cb139-2"><a href="vektoren.html#cb139-2" aria-hidden="true"></a>zufallsdaten &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">1000</span>)</span></code></pre></div>
<p>Zur Verdeutlichung: Der Vektor <code>zufallsdaten</code> enthält jetzt 1,000
Elemente, wie wir mit der Funktion <code>length</code> leicht überprüfen können:</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="vektoren.html#cb140-1" aria-hidden="true"></a><span class="kw">length</span>(zufallsdaten)</span></code></pre></div>
<pre><code>[1] 1000</code></pre>
<p>Die Funktion <code>head()</code> zeigt uns die ersten sechs Werte des Vektors an;
sie ist sehr praktisch, um sich schnell einen Überblick über Daten zu
verschaffen. Das machen wir hier auch, da wir nicht alle 1,000 Werte in
die Konsole schreiben wollen:</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="vektoren.html#cb142-1" aria-hidden="true"></a><span class="kw">head</span>(zufallsdaten)</span></code></pre></div>
<pre><code>[1]  1.3709584 -0.5646982  0.3631284  0.6328626  0.4042683 -0.1061245</code></pre>
<p>Wir können die Daten mithilfe eines Histogramms betrachten, um uns davon
zu überzeugen, dass sie tatsächlich normalverteilt sind – sich also der
Großteil der Daten um die <code>0</code> tummelt und extreme Werte in beide
Richtungen seltener werden (dieser Code muss nicht verstanden werden):</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="vektoren.html#cb144-1" aria-hidden="true"></a><span class="co"># Male Histogram</span></span>
<span id="cb144-2"><a href="vektoren.html#cb144-2" aria-hidden="true"></a><span class="kw">hist</span>(</span>
<span id="cb144-3"><a href="vektoren.html#cb144-3" aria-hidden="true"></a>  zufallsdaten, </span>
<span id="cb144-4"><a href="vektoren.html#cb144-4" aria-hidden="true"></a>  <span class="dt">freq =</span> <span class="ot">FALSE</span>,</span>
<span id="cb144-5"><a href="vektoren.html#cb144-5" aria-hidden="true"></a>  <span class="dt">main =</span> <span class="st">&quot;Schöne normalverteilte Daten&quot;</span>,</span>
<span id="cb144-6"><a href="vektoren.html#cb144-6" aria-hidden="true"></a>  <span class="dt">xlab =</span> <span class="st">&quot;&quot;</span>, </span>
<span id="cb144-7"><a href="vektoren.html#cb144-7" aria-hidden="true"></a>  <span class="dt">ylab =</span> <span class="st">&quot;&quot;</span>, </span>
<span id="cb144-8"><a href="vektoren.html#cb144-8" aria-hidden="true"></a>  <span class="dt">las =</span> <span class="dv">1</span>,</span>
<span id="cb144-9"><a href="vektoren.html#cb144-9" aria-hidden="true"></a>  <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="op">-</span><span class="dv">4</span>, <span class="dv">4</span>), </span>
<span id="cb144-10"><a href="vektoren.html#cb144-10" aria-hidden="true"></a>  <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="fl">0.4</span>),</span>
<span id="cb144-11"><a href="vektoren.html#cb144-11" aria-hidden="true"></a>)</span>
<span id="cb144-12"><a href="vektoren.html#cb144-12" aria-hidden="true"></a><span class="co"># Lege eine Normalverteilungskurve über die Daten</span></span>
<span id="cb144-13"><a href="vektoren.html#cb144-13" aria-hidden="true"></a><span class="kw">curve</span>(dnorm, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>, <span class="dt">add =</span> <span class="ot">TRUE</span>, <span class="dt">lwd =</span> <span class="fl">1.5</span>)</span>
<span id="cb144-14"><a href="vektoren.html#cb144-14" aria-hidden="true"></a><span class="co"># Zeichne eine blue Linie beim x-Wert `1` ein:</span></span>
<span id="cb144-15"><a href="vektoren.html#cb144-15" aria-hidden="true"></a><span class="kw">abline</span>(<span class="dt">v =</span> <span class="dv">1</span>, <span class="dt">lwd =</span> <span class="dv">3</span>, <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<p><img src="00_Setup_files/figure-html/unnamed-chunk-61-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Nach visueller Inspektion der Verteilung der Zufallszahlen können wir
mit <code>sum</code> testen, wie viele der 1,000 Zufallsdaten größer als 1 sind:</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="vektoren.html#cb145-1" aria-hidden="true"></a><span class="kw">sum</span>(zufallsdaten <span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>[1] 153</code></pre>
<p>Zur Erinnerung: Der Befehl “<code>zufallsdaten &gt; 1</code>” ergibt einen Vektor aus
<code>TRUE</code> und <code>FALSE</code> Werten, der genauso viele Elemente enthält wie der
Vektor <code>zufallsdaten</code>; wann immer ein Eintrag in <code>zufallsdaten</code> größer
ist als 1, erhalten wir <code>TRUE</code>, andernfalls <code>FALSE</code>. Die Funktion
<code>sum()</code> gibt die Zahl der <code>TRUE</code> Einträge aus. <strong>Das funktioniert, da
<code>TRUE</code> und <code>FALSE</code> eine numerische Interpretation haben: <code>TRUE</code> wird als
<code>1</code> interpretiert und <code>FALSE</code> als <code>0</code></strong>.<a href="#fn11" class="footnote-ref" id="fnref11"><sup>11</sup></a></p>
<p>Analog können wir mit <code>mean()</code> den relativen Anteil der Daten bestimmen,
die größer als 1 sind:</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="vektoren.html#cb147-1" aria-hidden="true"></a><span class="kw">mean</span>(zufallsdaten <span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>[1] 0.153</code></pre>
<p>Der Aufruf <code>mean(zufallsdaten &gt; 1)</code> ergibt also den relativen Anteil der
Datenpunkte, die größer sind als 1. Es lohnt sich ein wenig darüber
nachzudenken, warum wir <code>mean()</code> hier verwenden können, um den relativen
Anteil zu bestimmen. Normalerweise sind wir es eher gewohnt, dass
Mittelwerte und relative Anteile etwas Unterschiedliches sind. Der Grund
dafür ist folgender: Für eine Variable, bei der die Werte nur 1 oder 0
annehmen können (analog in R: <code>TRUE</code>/<code>FALSE</code>), entspricht der Mittelwert
dieser Variablen dem relativen Anteil der Werte, die 1 bzw. <code>TRUE</code> sind.
Als Beispiel betrachten wir den folgenden Vektor:</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="vektoren.html#cb149-1" aria-hidden="true"></a><span class="kw">mean</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>))</span></code></pre></div>
<pre><code>[1] 0.75</code></pre>
<p>Der Mittelwert des Vektors ist <code>(1 + 0 + 1 + 1) / 4</code>, also 0.75 – und
damit genau der relative Anteil der 1-Elemente. Dies ist eine praktische
Eigenschaft der 1/0- bzw. <code>TRUE</code>/<code>FALSE</code>-Kodierung und macht logische
Abfragen in <code>R</code> so mächtig.</p>
<p>Wenn wir einen relativen Anteil in eine Prozentzahl umwandeln wollen,
können wir ihn einfach mit 100 multiplizieren:</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="vektoren.html#cb151-1" aria-hidden="true"></a><span class="kw">mean</span>(zufallsdaten <span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span>) <span class="op">*</span><span class="st"> </span><span class="dv">100</span></span></code></pre></div>
<pre><code>[1] 15.3</code></pre>
<p>Der Erwartungswert, dass eine zufällige Zahl aus einer
Standardnormalverteilung größer ist als <code>1</code> – also mehr als eine
Standardabweichung vom Mittelwert entfernt liegt – liegt bei etwa
15.9%. Den exakten Erwartungswert könnte ich in <code>R</code> mit der Funktion
<code>pnorm()</code> herausfinden:</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="vektoren.html#cb153-1" aria-hidden="true"></a><span class="dv">1</span> <span class="op">-</span><span class="st"> </span><span class="kw">pnorm</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>[1] 0.1586553</code></pre>
<p>Die Funktion <code>pnorm()</code> ist die kumulative Verteilungsfunktion der
Normalverteilung. Sie sagt aus, wie viel Prozent der Werte in einer
Normalverteilung kleiner sind als der übergebene Wert. Um heraus zu
finden, wie viele Werte <strong>größer</strong> als 1 sind, wird hier das Komplement,
also <code>1 - pnorm(1)</code>, gebildet. Das funktioniert, da die Gesamtdichte
einer Wahrscheinlichkeitsverteilung immer 1 ist.</p>
<p>Nach dem Gesetz der großen Zahlen liegt der folgende Wert wahrscheinlich
näher am “wahren Wert” von 15.9% als der Schätzer, der auf 1,000
Zufallszahlen basiert:</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="vektoren.html#cb155-1" aria-hidden="true"></a><span class="co"># 100,000 Zufallsdaten sind für R kein Problem</span></span>
<span id="cb155-2"><a href="vektoren.html#cb155-2" aria-hidden="true"></a>zufallsdaten &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">100000</span>) </span>
<span id="cb155-3"><a href="vektoren.html#cb155-3" aria-hidden="true"></a><span class="kw">mean</span>(zufallsdaten <span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>[1] 0.15838</code></pre>
<p>Ihr könnt für das Gesetz der großen Zahlen selber ein Gefühl entwickeln,
wenn ihr mehrfach <code>mean(rnorm(1000) &gt; 1)</code> und <code>mean(rnorm(100000) &gt; 1)</code>
in die <code>R</code>-Konsole eingebt und beobachtet, welcher Wert häufiger näher
an 0.159 liegt.</p>
</div>
<div id="nalogik" class="section level3 hasAnchor" number="2.4.4">
<h3><span class="header-section-number">2.4.4</span> Logische Operationen mit <code>NA</code><a href="vektoren.html#nalogik" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Oftmals will man herausfinden, ob in Vektoren fehlende Werte vorliegen (also ob
einige Elemente darin <code>NA</code> sind). Die Funktion <code>is.na()</code> führt eine logische
Abfrage durch, die für jedes Element in einem Vektor überprüft, ob es <code>NA</code> ist.</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="vektoren.html#cb157-1" aria-hidden="true"></a>mein_vektor &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="ot">NA</span>, <span class="dv">4</span>, <span class="ot">NA</span>, <span class="dv">3</span>)</span>
<span id="cb157-2"><a href="vektoren.html#cb157-2" aria-hidden="true"></a><span class="kw">is.na</span>(mein_vektor)</span></code></pre></div>
<pre><code>[1] FALSE FALSE FALSE  TRUE FALSE  TRUE FALSE</code></pre>
<p>Die Funktion <code>is.na()</code> gibt an den Positionen <code>TRUE</code> zurück, an denen in
<code>mein_vektor</code> ein fehlender Wert vorliegt, ansonsten <code>FALSE</code>. Die Ausgabe ist
also ein logischer Vektor, der genauso lang ist wie der Eingabevektor.</p>
<p>Oftmals kombiniert man <code>is.na()</code> mit der Funktion <code>sum()</code>, um die absolute
Anzahl der fehlenden Werte zu erhalten:</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="vektoren.html#cb159-1" aria-hidden="true"></a><span class="kw">sum</span>(<span class="kw">is.na</span>(mein_vektor))</span></code></pre></div>
<pre><code>[1] 2</code></pre>
<p>Die Funktion <code>mean()</code> gibt dementsprechend die relative Häufigkeit fehlender
Werte aus – die ist im Idealfall nicht allzu hoch.</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="vektoren.html#cb161-1" aria-hidden="true"></a><span class="kw">mean</span>(<span class="kw">is.na</span>(mein_vektor))</span></code></pre></div>
<pre><code>[1] 0.2857143</code></pre>
<p><strong>Wichtig</strong>: Man <strong>muss</strong> <code>is.na()</code> verwenden, um zu prüfen, ob Werte in
einem Vektor <code>NA</code> sind. Folgender „naiver“ Vergleich mit <code>NA</code> geht
schief:</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="vektoren.html#cb163-1" aria-hidden="true"></a>mein_vektor <span class="op">==</span><span class="st"> </span><span class="ot">NA</span></span></code></pre></div>
<pre><code>[1] NA NA NA NA NA NA NA</code></pre>
<p>Auch bei Größer- oder Kleiner-Abfragen enthält sich <code>R</code> der Aussage, wie
fehlende Werte zu klassifizieren sind. Dementsprechend wird im folgenden Befehl
an den Positionen <code>NA</code> ausgegeben, an denen in <code>mein_vektor</code> ein Wert fehlt:</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="vektoren.html#cb165-1" aria-hidden="true"></a>mein_vektor <span class="op">&lt;</span><span class="st"> </span><span class="dv">4</span></span></code></pre></div>
<pre><code>[1]  TRUE  TRUE  TRUE    NA FALSE    NA  TRUE</code></pre>
<p>Ein logischer Vergleich mit <code>NA</code> ergibt immer <code>NA</code>, da beim fehlenden Wert keine
Aussage darüber gemacht werden kann, ob er einem anderen Wert entspricht. Man
kennt den fehlenden Wert zwar nicht, aber irgendeine Ausprägung hat er in der
Realität.</p>
<p>Interessant ist auch der Umgang der UND- und ODER-Operationen mit
fehlenden Werten. Der Befehl <code>TRUE &amp; NA</code> gibt <code>NA</code> aus. Denn je nachdem,
ob der fehlende Wert <code>TRUE</code> oder <code>FALSE</code> wäre, wäre das Ergebnis auch
entweder <code>TRUE</code> oder <code>FALSE</code>. Wir können in diesem Fall nicht
voraussagen, was das Ergebnis der UND-Operation wäre, da der fehlende
Wert unbekannt, aber kritisch für das Ergebnis ist. Anders sieht es bei
dem Befehl <code>TRUE | NA</code> aus. Dieser ergibt <code>TRUE</code>, da auf jeden Fall eine
Bedingung erfüllt ist und nur eine Bedingung erfüllt sein muss, damit
die ODER-Bedingung <code>TRUE</code> ergibt. Mit diesen Erklärungen im Hinterkopf
können wir auch nachvollziehen, was passiert, wenn wir <code>FALSE</code> mit <code>NA</code>
per UND und ODER verknüpfen: <code>FALSE | NA</code> ergibt <code>NA</code>, <code>FALSE &amp; NA</code>
ergibt <code>FALSE</code>.</p>
</div>
<div id="der-in-operator" class="section level3 hasAnchor" number="2.4.5">
<h3><span class="header-section-number">2.4.5</span> Der <code>%in%</code>-Operator<a href="vektoren.html#der-in-operator" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Um zu testen, ob ein oder mehrere Elemente in einem Vektor enthalten
sind, kann man den <code>%in%</code>-Operator verwenden. Der sieht zwar
gewöhnungsbedürftig aus, ist aber einfach zu verwenden und hat auch eine
einfache verbale Interpretation: Sind die Elemente aus Vektor A in
Vektor B?</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="vektoren.html#cb167-1" aria-hidden="true"></a><span class="dv">2</span> <span class="op">%in%</span><span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">3</span></span></code></pre></div>
<pre><code>[1] TRUE</code></pre>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="vektoren.html#cb169-1" aria-hidden="true"></a><span class="dv">4</span> <span class="op">%in%</span><span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">3</span></span></code></pre></div>
<pre><code>[1] FALSE</code></pre>
<p>Wir können den <code>%in%</code>-Operator als eine Aneinanderreihung mehrerer
ODER-Bedingungen verstehen. Folgendes ist äquivalent zu den obigen
Aufrufen von <code>%in%</code>:</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="vektoren.html#cb171-1" aria-hidden="true"></a>zu_testen &lt;-<span class="st"> </span><span class="dv">2</span></span>
<span id="cb171-2"><a href="vektoren.html#cb171-2" aria-hidden="true"></a>zu_testen <span class="op">==</span><span class="st"> </span><span class="dv">1</span> <span class="op">|</span><span class="st"> </span>zu_testen <span class="op">==</span><span class="st"> </span><span class="dv">2</span> <span class="op">|</span><span class="st"> </span>zu_testen <span class="op">==</span><span class="st"> </span><span class="dv">3</span></span></code></pre></div>
<pre><code>[1] TRUE</code></pre>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="vektoren.html#cb173-1" aria-hidden="true"></a>zu_testen &lt;-<span class="st"> </span><span class="dv">4</span></span>
<span id="cb173-2"><a href="vektoren.html#cb173-2" aria-hidden="true"></a>zu_testen <span class="op">==</span><span class="st"> </span><span class="dv">1</span> <span class="op">|</span><span class="st"> </span>zu_testen <span class="op">==</span><span class="st"> </span><span class="dv">2</span> <span class="op">|</span><span class="st"> </span>zu_testen <span class="op">==</span><span class="st"> </span><span class="dv">3</span></span></code></pre></div>
<pre><code>[1] FALSE</code></pre>
<p>Der <code>%in%</code>-Operator ist wie so vieles in <code>R</code> „vektorisiert“, das heißt
wir können für mehrere Elemente gleichzeitig testen, ob sie in einem
Vektor enthalten sind:</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="vektoren.html#cb175-1" aria-hidden="true"></a><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">3</span>) <span class="op">%in%</span><span class="st"> </span><span class="dv">3</span><span class="op">:</span><span class="dv">5</span></span></code></pre></div>
<pre><code>[1] FALSE  TRUE</code></pre>
<p>In diesem Fall wird für jedes der Vektorelemente <em>vor</em> <code>%in%</code> geprüft,
ob dieses im Vektor <em>nach</em> <code>%in%</code> enthalten ist. Die Ausgabe der
<code>%in%</code>-Operation ist immer ein logischer Vektor; die Länge des
Ausgabevektors entspricht der Länge des Vektors auf der linken Seite von
<code>%in%</code>.</p>
</div>
</div>
<div id="zugriff-auf-vektorelemente" class="section level2 hasAnchor" number="2.5">
<h2><span class="header-section-number">2.5</span> Zugriff auf Vektorelemente<a href="vektoren.html#zugriff-auf-vektorelemente" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Der Zugriff auf Daten ist ein wichtiger Abschnitt unserer Einleitung in
die Grundlagen von <code>R</code>. In diesem Abschnitt lernen wir, wie wir Elemente
aus Vektoren „herausgreifen“ können und wie wir einzelne Elemente in
einem Vektor ändern können. In <a href="dataframes.html#datenzugriffe">Kapitel 3</a> wird als
Fortführung behandelt, wie wir Daten aus Tabellen (wie wir sie etwa aus
Excel kennen) auswählen können.</p>
<div id="veczugriff" class="section level3 hasAnchor" number="2.5.1">
<h3><span class="header-section-number">2.5.1</span> Der <code>[·]</code>-Zugriff<a href="vektoren.html#veczugriff" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Daten können mit dem <code>[·]</code>-Zugriff<a href="#fn12" class="footnote-ref" id="fnref12"><sup>12</sup></a> <em>indexbasiert</em> aus
Vektoren ausgewählt werden. Jedes Element im Vektor hat einen <em>Index</em>,
der seiner Position im Vektor entspricht. Im folgenden Vektor etwa hat
<code>2</code> den Index <code>1</code>, <code>4</code> den Index <code>2</code> und <code>1</code> den Index <code>3</code>:</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="vektoren.html#cb177-1" aria-hidden="true"></a>daten &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">1</span>)</span></code></pre></div>
<p>Ich kann mit dem <code>[·]</code>-Zugriff durch Angabe des Index auf einzelne
Elemente im Vektor zugreifen:</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="vektoren.html#cb178-1" aria-hidden="true"></a>daten[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>[1] 2</code></pre>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="vektoren.html#cb180-1" aria-hidden="true"></a>xx &lt;-<span class="st"> </span>daten[<span class="dv">3</span>] <span class="co"># ein-elementiger Vektor</span></span>
<span id="cb180-2"><a href="vektoren.html#cb180-2" aria-hidden="true"></a>xx</span></code></pre></div>
<pre><code>[1] 1</code></pre>
<p>Ebenso kann ich einen „Negativ“-Zugriff durchführen: Ich kann auswählen,
welchen Index ich <em>nicht</em> in meinem Ergebnis haben will:</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="vektoren.html#cb182-1" aria-hidden="true"></a>daten[<span class="op">-</span><span class="dv">1</span>]</span></code></pre></div>
<pre><code>[1] 4 1</code></pre>
<p>Interessant wird diese Art des Zugriffs, da der Index in den <code>[·]</code>
Klammern auch ein mehr-elementiger numerischer Vektor sein kann – hier
nutzen wir die Funktion <code>c()</code>:</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="vektoren.html#cb184-1" aria-hidden="true"></a>daten[<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)]</span></code></pre></div>
<pre><code>[1] 2 4</code></pre>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="vektoren.html#cb186-1" aria-hidden="true"></a>daten[<span class="op">-</span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">3</span>)]</span></code></pre></div>
<pre><code>[1] 2</code></pre>
</div>
<div id="logischerZugriff" class="section level3 hasAnchor" number="2.5.2">
<h3><span class="header-section-number">2.5.2</span> <code>[·]</code>-Zugriff mit einem logischen Vektor<a href="vektoren.html#logischerZugriff" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Anstatt direkt den Index eines Elements zu übergeben – den wir häufig
nicht wissen, da wir bei vielen Daten nicht den Überblick über die
Position aller einzelnen Datenpunkte behalten – möchten wir häufig
Daten auswählen, die eine bestimmte Eigenschaft erfüllen. Hierbei machen
wir uns die logischen Operationen zunutze, die wir oben kennengelernt
haben:</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="vektoren.html#cb188-1" aria-hidden="true"></a>meinVektor &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>)</span>
<span id="cb188-2"><a href="vektoren.html#cb188-2" aria-hidden="true"></a></span>
<span id="cb188-3"><a href="vektoren.html#cb188-3" aria-hidden="true"></a>auswahl &lt;-<span class="st"> </span>meinVektor <span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span></span>
<span id="cb188-4"><a href="vektoren.html#cb188-4" aria-hidden="true"></a>auswahl</span></code></pre></div>
<pre><code>[1] FALSE FALSE FALSE  TRUE  TRUE  TRUE</code></pre>
<p>Der logische Vektor <code>auswahl</code> kodiert, welche Elemente des Vektors
<code>meinVektor</code> größer sind als 5 (spezifisch: an welchen Positionen
<code>meinVektor</code> ein Element enthält, das größer ist als 5). Ich kann nun
<code>auswahl</code> in der <code>[·]</code>-Notation verwenden, um nur die Elemente
auszuwählen, die größer sind als 5:</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="vektoren.html#cb190-1" aria-hidden="true"></a>meinVektor[auswahl]</span></code></pre></div>
<pre><code>[1] 7 8 9</code></pre>
<p>Hierbei wurden die Werte 7, 8 und 9 ausgewählt, da für diese Werte der
Vektor <code>auswahl</code> auf <code>TRUE</code> steht. Genauer gesagt: <code>auswahl</code> steht für
die Indexe 4, 5 und 6 auf <code>TRUE</code> und es gilt <code>meinVektor[4] == 7</code>,
<code>meinVektor[5] == 8</code>, und <code>meinVektor[6] == 9</code>.</p>
<p>Man kann dieses Vorgehen sogar mit den UND/ODER-Operationen verknüpfen,
um Daten anhand verschiedener Kriterien auszuwählen:</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="vektoren.html#cb192-1" aria-hidden="true"></a>meinVektor &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">20</span></span>
<span id="cb192-2"><a href="vektoren.html#cb192-2" aria-hidden="true"></a></span>
<span id="cb192-3"><a href="vektoren.html#cb192-3" aria-hidden="true"></a>auswahl &lt;-<span class="st"> </span>(meinVektor <span class="op">&lt;</span><span class="st"> </span><span class="dv">5</span>) <span class="op">|</span><span class="st"> </span>(meinVektor <span class="op">&gt;</span><span class="st"> </span><span class="dv">17</span>)</span>
<span id="cb192-4"><a href="vektoren.html#cb192-4" aria-hidden="true"></a>auswahl</span></code></pre></div>
<pre><code> [1]  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[13] FALSE FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE</code></pre>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="vektoren.html#cb194-1" aria-hidden="true"></a>meinVektor[auswahl]</span></code></pre></div>
<pre><code>[1]  1  2  3  4 18 19 20</code></pre>
<p>Hier ein weiteres Beispiel mit normalverteilten Zufallsdaten:</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="vektoren.html#cb196-1" aria-hidden="true"></a><span class="co">## Wähle alle Daten aus, die größer sind als 2 (das sollten im Schnitt</span></span>
<span id="cb196-2"><a href="vektoren.html#cb196-2" aria-hidden="true"></a><span class="co">## etwa 2.5% der Daten sein)</span></span>
<span id="cb196-3"><a href="vektoren.html#cb196-3" aria-hidden="true"></a>daten &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">300</span>)</span>
<span id="cb196-4"><a href="vektoren.html#cb196-4" aria-hidden="true"></a>daten[daten <span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span>]</span></code></pre></div>
<pre><code>[1] 3.196362 2.386513 2.791331 2.123950</code></pre>
<p>An dieser Stelle sollte man sich klar machen, warum <code>daten</code> sowohl vor
als auch innerhalb der <code>[·]</code> Klammern vorkommt. Das ist prinzipiell
dasselbe wie im Beispiel <code>meinVektor[auswahl]</code> oben, nur, dass ich dort
den <code>TRUE/FALSE</code> Vektor, der die Daten ausgewählt hat, in einer
Variablen – <code>auswahl</code> – zwischengespeichert habe.</p>
</div>
<div id="vektorAendern" class="section level3 hasAnchor" number="2.5.3">
<h3><span class="header-section-number">2.5.3</span> <code>[·]</code>-Zugriff zum Ändern von Daten<a href="vektoren.html#vektorAendern" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Wir sind mit dem <code>[·]</code>-Zugriff nicht darauf beschränkt Elemente aus
Vektoren auszulesen, sondern wir können auf diese Weise auch einzelne
Elemente im Vektor verändern:</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="vektoren.html#cb198-1" aria-hidden="true"></a>daten &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">5</span></span>
<span id="cb198-2"><a href="vektoren.html#cb198-2" aria-hidden="true"></a>daten[<span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">5</span>)] &lt;-<span class="st"> </span><span class="dv">0</span></span>
<span id="cb198-3"><a href="vektoren.html#cb198-3" aria-hidden="true"></a>daten</span></code></pre></div>
<pre><code>[1] 1 0 3 4 0</code></pre>
<p>Dies geht wiederum auch mit einem logischen Vektor in den
<code>[·]</code>-Klammern, wie das folgende Beispiel zeigt:</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="vektoren.html#cb200-1" aria-hidden="true"></a>daten &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">5</span></span>
<span id="cb200-2"><a href="vektoren.html#cb200-2" aria-hidden="true"></a>daten[<span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>)] &lt;-<span class="st"> </span><span class="dv">0</span></span>
<span id="cb200-3"><a href="vektoren.html#cb200-3" aria-hidden="true"></a>daten</span></code></pre></div>
<pre><code>[1] 0 2 0 4 5</code></pre>
<p>Das würde man so “händisch” nicht machen, aber es soll zum Verständnis
dessen dienen, was im folgenden – anwendungsnäheren – Beispiel
passiert. Angenommen, bei einer Dateneingabe wurden fehlende Werte in
einem Fragebogen mit <code>-99</code> kodiert.<a href="#fn13" class="footnote-ref" id="fnref13"><sup>13</sup></a> Wir wollen <code>R</code>
mitteilen, diesen Wert als fehlend zu interpretieren. Hier kommt uns
wiederum eine logische Abfrage zugute:</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="vektoren.html#cb202-1" aria-hidden="true"></a>daten &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">-99</span>, <span class="dv">5</span>, <span class="dv">-99</span>, <span class="dv">2</span>, <span class="dv">-99</span>, <span class="dv">4</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)</span>
<span id="cb202-2"><a href="vektoren.html#cb202-2" aria-hidden="true"></a>daten</span></code></pre></div>
<pre><code> [1]   1 -99   5 -99   2 -99   4   1   2   3</code></pre>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="vektoren.html#cb204-1" aria-hidden="true"></a>missing_values &lt;-<span class="st"> </span>daten <span class="op">==</span><span class="st"> </span><span class="dv">-99</span></span>
<span id="cb204-2"><a href="vektoren.html#cb204-2" aria-hidden="true"></a>missing_values</span></code></pre></div>
<pre><code> [1] FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE FALSE FALSE FALSE</code></pre>
<p>Die Variable <code>missing_values</code> kodiert jetzt, an welchen Positionen des
Vektors <code>daten</code> sich eine <code>-99</code> befindet. Wir können diese Werte nun wie
folgt durch <code>NA</code> ersetzen:</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="vektoren.html#cb206-1" aria-hidden="true"></a>daten[missing_values] &lt;-<span class="st"> </span><span class="ot">NA</span></span>
<span id="cb206-2"><a href="vektoren.html#cb206-2" aria-hidden="true"></a>daten</span></code></pre></div>
<pre><code> [1]  1 NA  5 NA  2 NA  4  1  2  3</code></pre>
<p>Semantisch ist dieser Vorgang gut zu verstehen: Setze alle Werte, die
einen fehlenden Wert enthalten – d.h. mit -99 kodiert wurden – auf
<code>NA</code>, damit <code>R</code> für weitere Berechnungen weiß, dass diese Werte als
fehlend zu verstehen sind. Technisch umgesetzt wird dies mit einem
<code>TRUE</code>/<code>FALSE</code> Vektor, den wir mithilfe der Anweisung <code>daten == -99</code>
erstellt haben.</p>
<p>Wir werden wohl selten “händisch” per Index oder logischem
<code>TRUE</code>/<code>FALSE</code> Vektor eine Auswahl/Änderung von Daten durchführen. Aber
in Zusammenarbeit mit den logischen Operatoren (<code>&gt;</code>, <code>&lt;</code>, <code>==</code>, <code>&amp;</code>, <code>|</code>
etc.) ist die Auswahl von Elementen aus Vektoren – und auch die Auswahl
von Daten aus Tabellen – eine häufige Anwendung. Diese werden wir bei
der gezielten Auswahl von Zeilen aus Datentabellen (siehe Kapitel 3)
wiederfinden und uns zunutze machen. Das gegebene Beispiel zur
Umkodierung von fehlenden Werten werden wir in einer sehr ähnlichen
Form in <a href="rohdaten.html#missingvalues">Kapitel 5</a> nutzen, da wir sonst Daten aus
dem Narcissistic Personality Inventory nicht auswerten können. Bevor
die Analyse startet, müssen fehlende Werte gekennzeichnet werden.</p>
</div>
</div>
<div id="praezedenz" class="section level2 hasAnchor" number="2.6">
<h2><span class="header-section-number">2.6</span> Präzedenz<a href="vektoren.html#praezedenz" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Durch Klammerung können wir die <em>Präzedenz</em> von <code>R</code>-Befehlen steuern. Präzedenz
bezieht sich auf die Reihenfolge, in der <code>R</code>-Befehle ausgeführt werden.
<code>R</code>-Befehle werden, wie es auch bei normalen mathematischen Berechnungen der
Fall ist (siehe <a href="https://de.wikipedia.org/wiki/Punktrechnung_vor_Strichrechnung">Punkt vor
Strich</a>), nicht
unbedingt einfach von links nach rechts durchgeführt.</p>
<p>Folgender Code zeigt, dass logische Vergleiche wie <code>&gt;</code> oder <code>&lt;</code> eine höhere
Präzedenz haben als das logische ODER:</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="vektoren.html#cb208-1" aria-hidden="true"></a>daten &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">7</span></span>
<span id="cb208-2"><a href="vektoren.html#cb208-2" aria-hidden="true"></a>daten <span class="op">&lt;</span><span class="st"> </span><span class="dv">3</span> <span class="op">|</span><span class="st"> </span>daten <span class="op">&gt;</span><span class="st"> </span><span class="dv">6</span></span></code></pre></div>
<pre><code>[1]  TRUE  TRUE FALSE FALSE FALSE FALSE  TRUE</code></pre>
<p>In diesem Fall werden die Unterbefehle <code>daten &lt; 3</code> und <code>daten &gt; 6</code> separat
evaluiert, und die beiden Ergebnisse werden danach mit dem logischen ODER
verknüpft. Es wird nicht das Ergebnis von <code>daten &lt; 3</code> per ODER mit <code>daten</code>
verknüpft, und erst im Anschluss die <code>&gt; 6</code>-Operation durchgeführt, was bei einer
reinen Durchführung von rechts nach links der Fall wäre. Das liegt übrigens
nicht daran, dass diese Durchführung auch sinnlos wäre – das weiß <code>R</code> im
Zweifel nicht – <code>R</code> geht rein nach Präzedenz der Operatoren vor.</p>
<p>Um sicherzugehen, sieht man in diesem Fall oft folgenden Code, der durch
Klammerung explizit sicherstellt, welche Code-Bestandteile gemeinsam
durchgeführt werden:</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="vektoren.html#cb210-1" aria-hidden="true"></a>(daten <span class="op">&lt;</span><span class="st"> </span><span class="dv">3</span>) <span class="op">|</span><span class="st"> </span>(daten <span class="op">&gt;</span><span class="st"> </span><span class="dv">6</span>)</span></code></pre></div>
<pre><code>[1]  TRUE  TRUE FALSE FALSE FALSE FALSE  TRUE</code></pre>
<p>Diese Klammerung ist jedoch nicht nötig.</p>
<p>Betrachten wir noch das folgende weiterführende Beispiel:</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="vektoren.html#cb212-1" aria-hidden="true"></a><span class="ot">TRUE</span> <span class="op">|</span><span class="st"> </span><span class="ot">TRUE</span> <span class="op">&amp;</span><span class="st"> </span><span class="ot">FALSE</span></span></code></pre></div>
<pre><code>[1] TRUE</code></pre>
<p>Die Ausgabe ist <code>TRUE</code>. Daraus können wir schlussfolgern, dass die
Befehle ODER und UND <strong>nicht</strong> von links nach rechts ausgeführt wurden.
In dem Fall wäre nämlich zunächst <code>TRUE | TRUE</code> ausgeführt worden, was
<code>TRUE</code> ergibt. Dieses Ergebnis (also <code>TRUE</code>) wäre dann per UND mit
<code>FALSE</code> verknüpft worden, was insgesamt <code>FALSE</code> ausgegeben hätte. Wir
haben aber <code>TRUE</code> bekommen. Warum?</p>
<p>Der Grund: <strong>Die UND-Operation hat eine höhere Präzedenz als die
ODER-Operation</strong>. Wenn UND und ODER in einem logischen Ausdruck
verbunden werden, wird zunächst die UND und dann die ODER-Operation
ausgeführt, unabhängig davon, in welcher Reihenfolge wir die Befehle
aufschreiben. Möchten wir erzwingen, dass die ODER-Operation zuerst
durchgeführt wird, können wir – ganz analog zu mathematischen
Berechnungen – Klammern verwenden:</p>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="vektoren.html#cb214-1" aria-hidden="true"></a>(<span class="ot">TRUE</span> <span class="op">|</span><span class="st"> </span><span class="ot">TRUE</span>) <span class="op">&amp;</span><span class="st"> </span><span class="ot">FALSE</span></span></code></pre></div>
<pre><code>[1] FALSE</code></pre>
<p>Die Präzendenzregeln gelten ebenfalls, wenn die logischen Vektoren aus
mehr als einem Element bestehen. Betrachten wir dazu die folgenden
Beispiele:</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="vektoren.html#cb216-1" aria-hidden="true"></a><span class="kw">c</span>(<span class="ot">FALSE</span>, <span class="ot">TRUE</span>) <span class="op">|</span><span class="st"> </span><span class="kw">c</span>(<span class="ot">FALSE</span>, <span class="ot">FALSE</span>) <span class="op">&amp;</span><span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>)</span></code></pre></div>
<pre><code>[1] FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="vektoren.html#cb218-1" aria-hidden="true"></a>(<span class="kw">c</span>(<span class="ot">FALSE</span>, <span class="ot">TRUE</span>) <span class="op">|</span><span class="st"> </span><span class="kw">c</span>(<span class="ot">FALSE</span>, <span class="ot">FALSE</span>)) <span class="op">&amp;</span><span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>)</span></code></pre></div>
<pre><code>[1] FALSE FALSE</code></pre>
<p>Wir werden logische Ausdrücke vor allem zur Fallauswahl in Datentabellen
verwenden (siehe <a href="dataframes.html#datenzugriffe">Kapitel 3</a>). Dann kann es sehr wichtig
sein, auf korrekte Klammerung zu achten. Andernfalls besteht die Gefahr,
dass wir nicht genau die Fälle auswählen, die wir eigentlich auswählen
wollen.</p>
<p>Betrachten wir ein weiteres Beispiel zur Steuerung von Präzedenz: Nehmen
wir an, wir benötigen eine Sequenz aller Zahlen zwischen 1 und 10 –
außer der 8.<a href="#fn14" class="footnote-ref" id="fnref14"><sup>14</sup></a> Ein naheliegender Befehl wäre folgender:</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="vektoren.html#cb220-1" aria-hidden="true"></a><span class="dv">1</span><span class="op">:</span><span class="dv">10</span>[<span class="op">-</span><span class="dv">8</span>]</span></code></pre></div>
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<p>Das hat aber nicht funktioniert, die Acht ist in der Ausgabe enthalten.
Woran liegt das? <strong>Die Auswahl per eckiger Klammer hat eine höhere
Präzedenz als der Doppelpunktoperator.</strong> Die Klammerungsoperation zur
Auswahl aus einem Vektor wurde also nicht auf den Vektor <code>1:10</code>, sondern
auf den Vektor <code>10</code> angewendet (Erinnerung: Einzelne Zahlen sind
Vektoren). Das heißt, in diesem Beispiel wurde als Erstes das achte
Element aus dem Vektor <code>10</code> ausgeschlossen, das aber gar nicht
existiert. Stattdessen erhalten wir einfach wieder <code>10</code>:</p>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="vektoren.html#cb222-1" aria-hidden="true"></a><span class="dv">10</span>[<span class="op">-</span><span class="dv">8</span>]</span></code></pre></div>
<pre><code>[1] 10</code></pre>
<p>Durch Klammerung oder durch Zwischenspeichern in einer Variablen können wir das
gewünschte Ergebnis erhalten:</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="vektoren.html#cb224-1" aria-hidden="true"></a>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)[<span class="op">-</span><span class="dv">8</span>]</span></code></pre></div>
<pre><code>[1]  1  2  3  4  5  6  7  9 10</code></pre>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb226-1"><a href="vektoren.html#cb226-1" aria-hidden="true"></a><span class="co"># oder:</span></span>
<span id="cb226-2"><a href="vektoren.html#cb226-2" aria-hidden="true"></a>daten &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></span>
<span id="cb226-3"><a href="vektoren.html#cb226-3" aria-hidden="true"></a>daten[<span class="op">-</span><span class="dv">8</span>]</span></code></pre></div>
<pre><code>[1]  1  2  3  4  5  6  7  9 10</code></pre>
<div class="block">
<p>
<strong>Merke</strong>: Im Zweifel verwenden wir Klammern lieber einmal zu viel als einmal zu wenig.
</p>
</div>
</div>
<div id="zusammenfassung" class="section level2 hasAnchor" number="2.7">
<h2><span class="header-section-number">2.7</span> Zusammenfassung<a href="vektoren.html#zusammenfassung" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Wir haben die grundlegendste Datenstruktur von <code>R</code>, den Vektor, kennengelernt</li>
<li>Vektoren enthalten beliebig viele Elemente gleichartiger Daten, etwa
<ul>
<li>Zahlen (“numeric”)</li>
<li>Texte (“character”)</li>
<li>Kategorielle Daten (“factor”)</li>
<li><code>TRUE</code>/<code>FALSE</code> (“logical”)</li>
</ul></li>
<li>Mit dem <code>[·]</code>-Zugriff kann man Elemente aus Vektoren auswählen
<ol style="list-style-type: lower-alpha">
<li>indem man die Position der Elemente angibt, die man auswählen
will (“Positivauswahl”)</li>
<li>indem man die Position der Elemente angibt, die man <strong>nicht</strong>
auswählen will (“Negativauswahl”)</li>
<li>indem man einen <code>TRUE</code>/<code>FALSE</code> Vektor angibt</li>
</ol></li>
<li>Man kann mit logischen Vergleichen die Eigenschaften von Vektoren
überprüfen
<ul>
<li>diese Operation lässt sich gut mit der <code>[·]</code>-Auswahl verbinden</li>
</ul></li>
</ul>
</div>
<div id="fragen-zum-vertiefenden-verständnis" class="section level2 hasAnchor" number="2.8">
<h2><span class="header-section-number">2.8</span> Fragen zum vertiefenden Verständnis<a href="vektoren.html#fragen-zum-vertiefenden-verständnis" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Wie berechnet man den Standardfehler von <code>1:10</code>?</li>
<li>Was für Objekte nimmt die Funktion <code>c()</code> entgegen, und was gibt sie
zurück?</li>
<li>Was ergibt <code>1:6 + 1:2</code>? Was passiert? Warum gibt <code>1:4 + 1:3</code> eine
Warnmeldung aus?</li>
<li>Nutzt <code>paste0()</code>, den <code>:</code>-Operator und den <code>[·]</code>-Negativ-Zugriff, um
den folgenden Vektor zu erstellen:</li>
</ol>
<pre><code>[1] &quot;item_2&quot;  &quot;item_4&quot;  &quot;item_5&quot;  &quot;item_6&quot;  &quot;item_7&quot;  &quot;item_8&quot;  &quot;item_10&quot;</code></pre>
<ol start="5" style="list-style-type: decimal">
<li>In <code>R</code> haben Elemente eines Vektors nur einen
Datentyp. Der Befehl
<code>c(1, 'moep')</code> vermischt eine Zahl und einen Text miteinander, aber
ergibt keinen Fehler – was ist passiert?</li>
<li>Was sind plausible Ergebnisse von <code>sum(rnorm(100) &gt; 1.645)</code>? (Erst
überlegen, dann mehrfach in der <code>R</code>-Konsole ausführen!)</li>
<li>Was sind die Ausgaben von <code>mode(2)</code> und <code>mode(mode(2))</code>. Warum?</li>
<li>Was ist der Unterschied zwischen <code>sum(c(TRUE, FALSE, TRUE))</code> und
<code>length(c(TRUE, FALSE, TRUE))</code>?</li>
</ol>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="4">
<li id="fn4"><p>Interessanterweise gibt es sogar Vektoren der Länge 0 –
also Vektoren, die gar kein Element beinhalten. Das soll uns aber erst
einmal nicht beschäftigen.<a href="vektoren.html#fnref4" class="footnote-back">↩︎</a></p></li>
<li id="fn5"><p><code>R</code> würde oft auch bei einelementigen Vektoren ein Ergebnis
ausgeben, aber das ist zum Beispiel beim Mittelwert wenig sinnvoll.<a href="vektoren.html#fnref5" class="footnote-back">↩︎</a></p></li>
<li id="fn6"><p>Bis jetzt kennen wir nur das Vektor-Objekt. In <code>R</code> gibt
es aber ganz verschiedene „Datencontainer“, die allgemein als
Objekte bezeichnet werden.<a href="vektoren.html#fnref6" class="footnote-back">↩︎</a></p></li>
<li id="fn7"><p>Ich werde von dieser Regel in diesem Skript abweichen.<a href="vektoren.html#fnref7" class="footnote-back">↩︎</a></p></li>
<li id="fn8"><p>Leider sind Fehlermeldungen in <code>R</code> oftmals sehr
kryptisch und gerade für Anfänger schwer verständlich.<a href="vektoren.html#fnref8" class="footnote-back">↩︎</a></p></li>
<li id="fn9"><p>Eigentlich ist <code>NA</code> kein eigener Datentyp. In <code>R</code> hat jeder
Vektor <strong>nur genau einen</strong> Datentyp. Es ist beispielsweise nicht
möglich, dass in einem Vektor gleichzeitig Werte vom Typ <code>numeric</code>,
<code>character</code> und <code>factor</code> vorkommen. <code>NA</code>-Werte können jedoch in
Kombination mit jedem Datentyp vorkommen. Sie kodieren dann die
Abwesenheit eines Datums; dieses Datum hätte – wenn es nicht fehlen
würde – den Datentyp des Vektors.<a href="vektoren.html#fnref9" class="footnote-back">↩︎</a></p></li>
<li id="fn10"><p>Ein Argument heißt optional, wenn wir dafür keinen Wert
angeben müssen. Stattdessen hat es einen sogenannten Standardwert, der
angenommen wird, wenn wir das Argument nicht selber angeben. Der
Standardwert des Arguments <code>na.rm</code> der Funktion <code>mean()</code> ist <code>FALSE</code>.<a href="vektoren.html#fnref10" class="footnote-back">↩︎</a></p></li>
<li id="fn11"><p>Wenn logische Vektoren einer numerischen Berechnung
übergeben werden, werden die <code>TRUE</code>/<code>FALSE</code> Elemente des Vektors
automatisch in Zahlen, d.h. 1 und 0 umgewandelt. Deswegen funktioniert
beispielsweise auch folgender Befehl: <code>TRUE + 1</code><a href="vektoren.html#fnref11" class="footnote-back">↩︎</a></p></li>
<li id="fn12"><p>Ich nenne diese Operation <code>[·]</code>-Zugriff , da zur
Datenauswahl aus Vektoren hinter den Vektor eckige Klammern gestellt
werden. Die Klammern enthalten eine Angabe darüber, welche Elemente ich
aus dem Vektor auswählen will. Etwa wählt <code>c(4, 2, 6)[1]</code> das erste
Element aus dem Vektor <code>c(4, 2, 6)</code> aus, also 4. Der Punkt ist bloß ein
Platzhalter in der <code>[·]</code>-Notation.<a href="vektoren.html#fnref12" class="footnote-back">↩︎</a></p></li>
<li id="fn13"><p>Das macht beispielsweise Sinn, damit bei der Eingabe
explizit gemacht wird, dass der Wert fehlt. Andernfalls könnte das Datum
bei der Eingabe auch vergessen worden sein.<a href="vektoren.html#fnref13" class="footnote-back">↩︎</a></p></li>
<li id="fn14"><p>Das Beispiel mag hier künstlich wirken, aber genau so
etwas werden wir in <a href="psychometrie.html#trennschaerfe">Kapitel 4</a> machen.<a href="vektoren.html#fnref14" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="einstieg.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="dataframes.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": false,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
