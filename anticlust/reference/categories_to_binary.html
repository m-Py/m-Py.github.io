<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Get binary representation of categorical variables — categories_to_binary • anticlust</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Get binary representation of categorical variables — categories_to_binary"><meta property="og:description" content="Get binary representation of categorical variables"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">anticlust</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.8.9-1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Best_practices.html">Some best practices for anticlustering</a>
    </li>
    <li>
      <a href="../articles/Categorical_vars.html">Using categorical variables with anticlustering</a>
    </li>
    <li>
      <a href="../articles/Speeding_up_anticlustering.html">Speeding up anticlustering</a>
    </li>
    <li>
      <a href="../articles/stimulus-selection.html">Using the R package anticlust for stimulus selection in experiments</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://m-py.github.io/anticlust-blog" class="external-link">Blog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/m-Py/anticlust/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get binary representation of categorical variables</h1>
    <small class="dont-index">Source: <a href="https://github.com/m-Py/anticlust/blob/HEAD/R/categories_to_binary.R" class="external-link"><code>R/categories_to_binary.R</code></a></small>
    <div class="hidden name"><code>categories_to_binary.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Get binary representation of categorical variables</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">categories_to_binary</span><span class="op">(</span><span class="va">categories</span>, use_combinations <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-categories">categories<a class="anchor" aria-label="anchor" href="#arg-categories"></a></dt>
<dd><p>A vector, data.frame or matrix representing one
or several categorical variables</p></dd>


<dt id="arg-use-combinations">use_combinations<a class="anchor" aria-label="anchor" href="#arg-use-combinations"></a></dt>
<dd><p>Logical, should the output also include columns representing
the combination / interaction of the categories (defaults to <code>FALSE</code>).</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A matrix encoding the categorical variable(s) in binary form.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The conversion of categorical variables to binary variables is done via
<code><a href="https://rdrr.io/r/stats/model.matrix.html" class="external-link">model.matrix</a></code>. Since version 0.8.9, each category
of a categorical variable is coded by a separate variable. So this is not
'dummy' coding, which is often used to encode predictors in statistical
analysis. Dummy coding uses a reference category that has only zeros for
each variable, while all other categories consist of a 1 and otherwise zeros.
This implies that there is a different distance to the reference category
than among the other categories, which is unwarranted in anticlustering.</p>
<p>This function can be used to include categorical variables as part of the
optimization criterion in anticlustering, rather than including them as hard constraints as done when using the
argument <code>categories</code> in <code><a href="anticlustering.html">anticlustering</a></code> (or <code><a href="fast_anticlustering.html">fast_anticlustering</a></code>).
This way, categorical variables are treated as numeric variables,
which can be useful when there are several
categorical variables or when the group sizes are unequal (or both).
See examples. Please see the vignette 'Using categorical variables with anticlustering'
for more information on this approach.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Papenberg, M. (2024). K-plus Anticlustering: An Improved k-means Criterion for
Maximizing Between-Group Similarity. British Journal of Mathematical and
Statistical Psychology, 77(1), 80–102. https://doi.org/10.1111/bmsp.12315</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Martin Papenberg <a href="mailto:martin.papenberg@hhu.de">martin.papenberg@hhu.de</a></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># How to encode a categorical variable with three levels:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] setosa     versicolor virginica </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Levels: setosa versicolor virginica</span>
<span class="r-in"><span><span class="fu">categories_to_binary</span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">51</span>, <span class="fl">101</span><span class="op">)</span>, <span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     categoriessetosa categoriesversicolor categoriesvirginica</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                  1                    0                   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 51                 0                    1                   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 101                0                    0                   1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use Schaper data set for anticlustering example</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">schaper2019</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">features</span> <span class="op">&lt;-</span> <span class="va">schaper2019</span><span class="op">[</span>, <span class="fl">3</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">K</span> <span class="op">&lt;-</span> <span class="fl">3</span></span></span>
<span class="r-in"><span><span class="va">N</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">features</span><span class="op">)</span> </span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># - Generate data input for k-means anticlustering -</span></span></span>
<span class="r-in"><span><span class="co"># We conduct k-plus anticlustering by first generating k-plus variables, </span></span></span>
<span class="r-in"><span><span class="co"># and also include the categorical variable as "numeric" input for the </span></span></span>
<span class="r-in"><span><span class="co"># k-means optimization (rather than as input for the argument \code{categories})</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">input_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="kplus_moment_variables.html">kplus_moment_variables</a></span><span class="op">(</span><span class="va">features</span>, T <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>  <span class="fu">categories_to_binary</span><span class="op">(</span><span class="va">schaper2019</span><span class="op">$</span><span class="va">room</span><span class="op">)</span> </span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">kplus_groups</span> <span class="op">&lt;-</span> <span class="fu"><a href="anticlustering.html">anticlustering</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">input_data</span>, </span></span>
<span class="r-in"><span>  K <span class="op">=</span> <span class="va">K</span>,</span></span>
<span class="r-in"><span>  objective <span class="op">=</span> <span class="st">"variance"</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="st">"local-maximum"</span>, </span></span>
<span class="r-in"><span>  repetitions <span class="op">=</span> <span class="fl">10</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="mean_sd_tab.html">mean_sd_tab</a></span><span class="op">(</span><span class="va">features</span>, <span class="va">kplus_groups</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   rating_consistent rating_inconsistent syllables     frequency     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 "4.49 (0.25)"     "1.10 (0.07)"       "3.41 (0.95)" "18.28 (2.43)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 "4.49 (0.25)"     "1.10 (0.07)"       "3.44 (0.91)" "18.31 (2.40)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 "4.49 (0.25)"     "1.10 (0.07)"       "3.41 (0.95)" "18.34 (2.40)"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">kplus_groups</span>, <span class="va">schaper2019</span><span class="op">$</span><span class="va">room</span><span class="op">)</span> <span class="co"># argument categories was not used!</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> kplus_groups bathroom kitchen</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            1       16      16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            2       16      16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            3       16      16</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> </span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Martin Papenberg.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer></div>






  </body></html>

