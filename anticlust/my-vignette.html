<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1">



<title>Using the R package anticlust for stimulus selection</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Using the R package anticlust for stimulus selection</h1>



<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">library</span>(anticlust)</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">library</span>(knitr)</a></code></pre></div>
<p>Last update: 2019-11-14 09:52:57</p>
<p>This vignette teaches you how to use the <code>R</code> package <code>anticlust</code> for stimulus selection. We make use of the open stimulus pool OASIS for this purpose. The OASIS data set contains norming data for 900 photos on arousal and valence. First, I load the data from the csv file:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1">oasis &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;OASIS.csv&quot;</span>)</a></code></pre></div>
<p>In the following, we look at four different kinds of stimulus selection. This are given by crossing the following two properties of the stimulus selection procedure:</p>
<ul>
<li>The experimental manipulation is realized via the properties of the stimuli / is independent of the stimuli</li>
<li>The pool of stimuli that is part of the experiment is selected by the researcher / should be selected by the computer program</li>
</ul>
<div id="manual-preselection" class="section level1">
<h1><span class="header-section-number">1</span> Manual preselection</h1>
<p>First, I discuss experimental designs where all stimuli have been selected by the researcher and now have to be divided into experimental sets. For examples of this approach, see …</p>
<div id="experimental-manipulation-independent-of-stimuli-anticlustering" class="section level2">
<h2><span class="header-section-number">1.1</span> Experimental manipulation independent of stimuli: Anticlustering</h2>
<p>Anticlustering partitions a stimulus pool into equal-sized parts that are as similar as possible. In particular, we employ anticluster editing, introduced by Papenberg and Klau (2019).</p>
<p>Select all object images, create 4 sets from the 200 images, minimize dissimilarity wrt arousal and valence:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1">objects &lt;-<span class="st"> </span>oasis[oasis<span class="op">$</span>Category <span class="op">==</span><span class="st"> &quot;Object&quot;</span>, ]</a>
<a class="sourceLine" id="cb3-2" title="2">stimuli &lt;-<span class="st"> </span><span class="kw">select_stimuli</span>(</a>
<a class="sourceLine" id="cb3-3" title="3">  objects,</a>
<a class="sourceLine" id="cb3-4" title="4">  <span class="dt">equalize =</span> <span class="kw">c</span>(<span class="st">&quot;Arousal_mean&quot;</span>, <span class="st">&quot;Valence_mean&quot;</span>),</a>
<a class="sourceLine" id="cb3-5" title="5">  <span class="dt">design =</span> <span class="dv">4</span> <span class="co"># specifies the number of groups</span></a>
<a class="sourceLine" id="cb3-6" title="6">)</a>
<a class="sourceLine" id="cb3-7" title="7"><span class="co">#&gt; Starting stimulus selection using `Anticlustering`.</span></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="co">#&gt; Selecting 4 groups, each having approximately 50 elements from a pool of 200 stimuli.</span></a></code></pre></div>
<p>The output variable <code>stimuli</code> is a data frame that has the same columns as the original input (the data frame <code>objects</code>), but has an additional column called <code>SET</code> containing the stimulus set each item was assigned to.</p>
<p>We can use the <code>anticlust</code> function <code>mean_sd_tab()</code> to check out the results. It prints the means and standard deviations of the variables of interest for each of the sets that were created using the <code>select_stimuli()</code> function:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">kable</span>(</a>
<a class="sourceLine" id="cb4-2" title="2">  <span class="kw">mean_sd_tab</span>(stimuli[, <span class="kw">c</span>(<span class="st">&quot;Arousal_mean&quot;</span>, <span class="st">&quot;Valence_mean&quot;</span>)], stimuli<span class="op">$</span>SET)</a>
<a class="sourceLine" id="cb4-3" title="3">)</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Arousal_mean</th>
<th align="left">Valence_mean</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2.86 (0.82)</td>
<td align="left">4.21 (1.01)</td>
</tr>
<tr class="even">
<td align="left">2.83 (0.78)</td>
<td align="left">4.23 (0.96)</td>
</tr>
<tr class="odd">
<td align="left">2.83 (0.80)</td>
<td align="left">4.23 (0.97)</td>
</tr>
<tr class="even">
<td align="left">2.83 (0.78)</td>
<td align="left">4.23 (0.98)</td>
</tr>
<tr class="odd">
<td align="left">0.03 (0.04)</td>
<td align="left">0.02 (0.05)</td>
</tr>
</tbody>
</table>
</div>
<div id="experimental-manipulation-realized-via-stimuli-min-max-anticlustering" class="section level2">
<h2><span class="header-section-number">1.2</span> Experimental manipulation realized via stimuli: Min-Max Anticlustering</h2>
<p>Select all Animal images, create two sets from the 134 images, maximize dissimilarity wrt valence, minimize dissimilarity wrt arousal. Leaves out the <code>n</code> argument as all images from the pool are assigned to a set:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"></a>
<a class="sourceLine" id="cb5-2" title="2">animals &lt;-<span class="st"> </span>oasis[oasis<span class="op">$</span>Category <span class="op">==</span><span class="st"> &quot;Animal&quot;</span>, ]</a>
<a class="sourceLine" id="cb5-3" title="3">stimuli &lt;-<span class="st"> </span><span class="kw">select_stimuli</span>(</a>
<a class="sourceLine" id="cb5-4" title="4">  animals,</a>
<a class="sourceLine" id="cb5-5" title="5">  <span class="dt">split_by =</span> <span class="st">&quot;Valence_mean&quot;</span>,</a>
<a class="sourceLine" id="cb5-6" title="6">  <span class="dt">equalize =</span> <span class="kw">c</span>(<span class="st">&quot;Arousal_mean&quot;</span>),</a>
<a class="sourceLine" id="cb5-7" title="7">  <span class="dt">design =</span> <span class="dv">2</span> <span class="co"># specifies the number of groups</span></a>
<a class="sourceLine" id="cb5-8" title="8">)</a>
<a class="sourceLine" id="cb5-9" title="9"><span class="co">#&gt; Starting stimulus selection using `Min-Max Anticlustering`.</span></a>
<a class="sourceLine" id="cb5-10" title="10"><span class="co">#&gt; Selecting 2 groups, each having approximately 67 elements from a pool of 134 stimuli.</span></a>
<a class="sourceLine" id="cb5-11" title="11"></a>
<a class="sourceLine" id="cb5-12" title="12"><span class="kw">kable</span>(</a>
<a class="sourceLine" id="cb5-13" title="13">  <span class="kw">mean_sd_tab</span>(stimuli[, <span class="kw">c</span>(<span class="st">&quot;Arousal_mean&quot;</span>, <span class="st">&quot;Valence_mean&quot;</span>)], stimuli<span class="op">$</span>SET)</a>
<a class="sourceLine" id="cb5-14" title="14">)</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Arousal_mean</th>
<th align="left">Valence_mean</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">3.97 (0.63)</td>
<td align="left">3.52 (0.95)</td>
</tr>
<tr class="even">
<td align="left">4.04 (0.47)</td>
<td align="left">5.39 (0.65)</td>
</tr>
<tr class="odd">
<td align="left">0.07 (0.16)</td>
<td align="left">1.87 (0.30)</td>
</tr>
</tbody>
</table>
<p>Even though the results look promising, the task of selecting stimulus sets that differ on one variable but are similar on other is usually better accomplished by selecting stimuli from a larger item pool, as detailed below.</p>
</div>
</div>
<div id="entirely-algorithmic-stimulus-assignment" class="section level1">
<h1><span class="header-section-number">2</span> Entirely algorithmic stimulus assignment</h1>
<p>In this section I treat the case where a large stimulus pool is present from which stimulus sets are deduced in an entirely automated manner</p>
<div id="experimental-manipulation-independent-of-stimuli-subset-anticlustering" class="section level2">
<h2><span class="header-section-number">2.1</span> Experimental manipulation independent of stimuli: Subset anticlustering</h2>
<p>Imagine I want to select 3 sets of stimuli that are similar with regard to all numeric variables. In this case, I just leave out the argument <code>split_by</code>:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">stimuli &lt;-<span class="st"> </span><span class="kw">select_stimuli</span>(</a>
<a class="sourceLine" id="cb6-2" title="2">  oasis,</a>
<a class="sourceLine" id="cb6-3" title="3">  <span class="dt">equalize =</span> <span class="kw">c</span>(<span class="st">&quot;Arousal_mean&quot;</span>, <span class="st">&quot;Valence_mean&quot;</span>),</a>
<a class="sourceLine" id="cb6-4" title="4">  <span class="dt">design =</span> <span class="dv">3</span>, <span class="co"># specifies the number of groups</span></a>
<a class="sourceLine" id="cb6-5" title="5">  <span class="dt">n =</span> <span class="dv">100</span> <span class="co"># Number of stimuli per set</span></a>
<a class="sourceLine" id="cb6-6" title="6">)</a>
<a class="sourceLine" id="cb6-7" title="7"><span class="co">#&gt; Starting stimulus selection using `Subset Anticlustering`.</span></a>
<a class="sourceLine" id="cb6-8" title="8"><span class="co">#&gt; Selecting 3 groups, each having 100 elements from a pool of 900 stimuli.</span></a></code></pre></div>
<p>Inspecting means and standard deviations of the variables by set shows that the stimulus assignment was successful:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">kable</span>(</a>
<a class="sourceLine" id="cb7-2" title="2">  <span class="kw">mean_sd_tab</span>(stimuli[, <span class="kw">c</span>(<span class="st">&quot;Arousal_mean&quot;</span>, <span class="st">&quot;Valence_mean&quot;</span>)], stimuli<span class="op">$</span>SET)</a>
<a class="sourceLine" id="cb7-3" title="3">)</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Arousal_mean</th>
<th align="left">Valence_mean</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">3.50 (0.76)</td>
<td align="left">4.72 (1.03)</td>
</tr>
<tr class="even">
<td align="left">3.50 (0.76)</td>
<td align="left">4.72 (1.03)</td>
</tr>
<tr class="odd">
<td align="left">3.50 (0.76)</td>
<td align="left">4.72 (1.03)</td>
</tr>
<tr class="even">
<td align="left">0.00 (0.00)</td>
<td align="left">0.00 (0.00)</td>
</tr>
</tbody>
</table>
</div>
<div id="experimental-manipulation-independent-of-stimuli" class="section level2">
<h2><span class="header-section-number">2.2</span> Experimental manipulation independent of stimuli</h2>
<div id="subset-min-max-anticlustering" class="section level3">
<h3><span class="header-section-number">2.2.1</span> Subset Min-Max-Anticlustering</h3>
<p>In the Divide and Select approach, we select stimuli that differ with regard to one (or more) independent variable, but are as similar as possible with regard to other covariates. The independent variable can be a categorical variable or a numeric variable that is artificially categorized for the purpose of stimulus selection.</p>
<p>I may also split the data pool on a numeric variable, thus establishing sets that are dissimilar with regard to one attribute, but similar to others. Here, I divide the item pool by valence (into 3 sets) and make sure that the sets are similar with regard to arousal:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"></a>
<a class="sourceLine" id="cb8-2" title="2">stimuli &lt;-<span class="st"> </span><span class="kw">select_stimuli</span>(</a>
<a class="sourceLine" id="cb8-3" title="3">  oasis,</a>
<a class="sourceLine" id="cb8-4" title="4">  <span class="dt">split_by =</span> <span class="st">&quot;Valence_mean&quot;</span>,</a>
<a class="sourceLine" id="cb8-5" title="5">  <span class="dt">equalize =</span> <span class="kw">c</span>(<span class="st">&quot;Arousal_mean&quot;</span>),</a>
<a class="sourceLine" id="cb8-6" title="6">  <span class="dt">design =</span> <span class="dv">3</span>, <span class="co"># specifies the number of groups</span></a>
<a class="sourceLine" id="cb8-7" title="7">  <span class="dt">n =</span> <span class="dv">40</span> <span class="co"># Number of stimuli per set</span></a>
<a class="sourceLine" id="cb8-8" title="8">)</a>
<a class="sourceLine" id="cb8-9" title="9"><span class="co">#&gt; Starting stimulus selection using `Subset Min-Max-Anticlustering`.</span></a>
<a class="sourceLine" id="cb8-10" title="10"><span class="co">#&gt; Selecting 3 groups, each having 40 elements from a pool of 900 stimuli.</span></a></code></pre></div>
<p>Inspecting means and standard deviations of the variables by set shows that the stimulus assignment was successful:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">kable</span>(</a>
<a class="sourceLine" id="cb9-2" title="2">  <span class="kw">mean_sd_tab</span>(stimuli[, <span class="kw">c</span>(<span class="st">&quot;Arousal_mean&quot;</span>, <span class="st">&quot;Valence_mean&quot;</span>)], stimuli<span class="op">$</span>SET)</a>
<a class="sourceLine" id="cb9-3" title="3">)</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Arousal_mean</th>
<th align="left">Valence_mean</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">4.31 (0.51)</td>
<td align="left">1.94 (0.39)</td>
</tr>
<tr class="even">
<td align="left">4.31 (0.50)</td>
<td align="left">4.08 (1.30)</td>
</tr>
<tr class="odd">
<td align="left">4.31 (0.50)</td>
<td align="left">5.87 (0.39)</td>
</tr>
<tr class="even">
<td align="left">0.00 (0.01)</td>
<td align="left">3.93 (0.91)</td>
</tr>
</tbody>
</table>
<p>This approach is generalizable: Both the arguments <code>split_by</code> and <code>equalize</code> may take more than one variable. Note that variables are passed as character vectors that refer to the names of the columns in the data frame that has been passed as the first argument (here: oasis).</p>
</div>
<div id="divide-by-categorical-variable" class="section level3">
<h3><span class="header-section-number">2.2.2</span> Divide by categorical variable</h3>
<p>Each of the images in the data base belongs to one of four categories. The frequency of each category is given as follows:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">table</span>(oasis<span class="op">$</span>Category)</a>
<a class="sourceLine" id="cb10-2" title="2"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-3" title="3"><span class="co">#&gt; Animal Object Person  Scene </span></a>
<a class="sourceLine" id="cb10-4" title="4"><span class="co">#&gt;    134    200    346    220</span></a></code></pre></div>
<p>Imagine I want to select 30 images from each category and the four sets should be as similar as possible with regard to arousal and valence. We can use the function <code>select_stimuli</code> for this purpose:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1"></a>
<a class="sourceLine" id="cb11-2" title="2">stimuli &lt;-<span class="st"> </span><span class="kw">divide_and_select</span>(</a>
<a class="sourceLine" id="cb11-3" title="3">  oasis,</a>
<a class="sourceLine" id="cb11-4" title="4">  <span class="dt">split_by =</span> <span class="st">&quot;Category&quot;</span>,</a>
<a class="sourceLine" id="cb11-5" title="5">  <span class="dt">equalize =</span> <span class="kw">c</span>(<span class="st">&quot;Arousal_mean&quot;</span>, <span class="st">&quot;Valence_mean&quot;</span>),</a>
<a class="sourceLine" id="cb11-6" title="6">  <span class="dt">design =</span> <span class="dv">4</span>, <span class="co"># specifies the number of groups</span></a>
<a class="sourceLine" id="cb11-7" title="7">  <span class="dt">n =</span> <span class="dv">40</span> <span class="co"># Number of stimuli per set</span></a>
<a class="sourceLine" id="cb11-8" title="8">)</a>
<a class="sourceLine" id="cb11-9" title="9"><span class="co">#&gt; Starting stimulus selection using `Divide and Select`.</span></a>
<a class="sourceLine" id="cb11-10" title="10"><span class="co">#&gt; Selecting 4 groups, each having 40 elements from a pool of 900 stimuli.</span></a>
<a class="sourceLine" id="cb11-11" title="11"></a>
<a class="sourceLine" id="cb11-12" title="12"><span class="kw">table</span>(stimuli<span class="op">$</span>SET, stimuli<span class="op">$</span>Category)</a>
<a class="sourceLine" id="cb11-13" title="13"><span class="co">#&gt;    </span></a>
<a class="sourceLine" id="cb11-14" title="14"><span class="co">#&gt;     Animal Object Person Scene</span></a>
<a class="sourceLine" id="cb11-15" title="15"><span class="co">#&gt;   1      0     40      0     0</span></a>
<a class="sourceLine" id="cb11-16" title="16"><span class="co">#&gt;   2      0      0     40     0</span></a>
<a class="sourceLine" id="cb11-17" title="17"><span class="co">#&gt;   3     40      0      0     0</span></a>
<a class="sourceLine" id="cb11-18" title="18"><span class="co">#&gt;   4      0      0      0    40</span></a></code></pre></div>
<p>As shown by our call to the <code>table()</code> function, the new variable <code>SET</code> contains a subset of each of the four categories. Using the function <code>mean_sd_tab()</code>, we can test how well the four subsets are matched with regard to arousal and valence:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">kable</span>(</a>
<a class="sourceLine" id="cb12-2" title="2">  <span class="kw">mean_sd_tab</span>(stimuli[, <span class="kw">c</span>(<span class="st">&quot;Arousal_mean&quot;</span>, <span class="st">&quot;Valence_mean&quot;</span>)], stimuli<span class="op">$</span>SET)</a>
<a class="sourceLine" id="cb12-3" title="3">)</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Arousal_mean</th>
<th align="left">Valence_mean</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">3.60 (0.71)</td>
<td align="left">4.26 (1.38)</td>
</tr>
<tr class="even">
<td align="left">3.59 (0.71)</td>
<td align="left">4.28 (1.37)</td>
</tr>
<tr class="odd">
<td align="left">3.62 (0.70)</td>
<td align="left">4.27 (1.38)</td>
</tr>
<tr class="even">
<td align="left">3.60 (0.71)</td>
<td align="left">4.26 (1.37)</td>
</tr>
<tr class="odd">
<td align="left">0.03 (0.01)</td>
<td align="left">0.02 (0.01)</td>
</tr>
</tbody>
</table>
<p>Apparently, this worked quite well. Let’s also confirm that the <code>Category</code> variable is cleanly split between the four sets:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1"><span class="kw">table</span>(stimuli<span class="op">$</span>Category, stimuli<span class="op">$</span>SET)</a>
<a class="sourceLine" id="cb13-2" title="2"><span class="co">#&gt;         </span></a>
<a class="sourceLine" id="cb13-3" title="3"><span class="co">#&gt;           1  2  3  4</span></a>
<a class="sourceLine" id="cb13-4" title="4"><span class="co">#&gt;   Animal  0  0 40  0</span></a>
<a class="sourceLine" id="cb13-5" title="5"><span class="co">#&gt;   Object 40  0  0  0</span></a>
<a class="sourceLine" id="cb13-6" title="6"><span class="co">#&gt;   Person  0 40  0  0</span></a>
<a class="sourceLine" id="cb13-7" title="7"><span class="co">#&gt;   Scene   0  0  0 40</span></a></code></pre></div>
<p>Note that the <code>divide_and_select()</code> function can also be used to create groups based on a continuous variable; in this case, the continuous variable is artificially categorized. It would work like this:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1"></a>
<a class="sourceLine" id="cb14-2" title="2">stimuli &lt;-<span class="st"> </span><span class="kw">divide_and_select</span>(</a>
<a class="sourceLine" id="cb14-3" title="3">  oasis,</a>
<a class="sourceLine" id="cb14-4" title="4">  <span class="dt">split_by =</span> <span class="st">&quot;Valence_mean&quot;</span>,</a>
<a class="sourceLine" id="cb14-5" title="5">  <span class="dt">equalize =</span> <span class="kw">c</span>(<span class="st">&quot;Arousal_mean&quot;</span>),</a>
<a class="sourceLine" id="cb14-6" title="6">  <span class="dt">design =</span> <span class="dv">3</span>, <span class="co"># specifies the number of groups</span></a>
<a class="sourceLine" id="cb14-7" title="7">  <span class="dt">n =</span> <span class="dv">40</span> <span class="co"># Number of stimuli per set</span></a>
<a class="sourceLine" id="cb14-8" title="8">)</a>
<a class="sourceLine" id="cb14-9" title="9"><span class="co">#&gt; Starting stimulus selection using `Divide and Select`.</span></a>
<a class="sourceLine" id="cb14-10" title="10"><span class="co">#&gt; Selecting 3 groups, each having 40 elements from a pool of 900 stimuli.</span></a>
<a class="sourceLine" id="cb14-11" title="11"></a>
<a class="sourceLine" id="cb14-12" title="12"><span class="kw">kable</span>(</a>
<a class="sourceLine" id="cb14-13" title="13">  <span class="kw">mean_sd_tab</span>(stimuli[, <span class="kw">c</span>(<span class="st">&quot;Arousal_mean&quot;</span>, <span class="st">&quot;Valence_mean&quot;</span>)], stimuli<span class="op">$</span>SET)</a>
<a class="sourceLine" id="cb14-14" title="14">)</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Arousal_mean</th>
<th align="left">Valence_mean</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">3.77 (0.73)</td>
<td align="left">4.50 (0.28)</td>
</tr>
<tr class="even">
<td align="left">3.77 (0.73)</td>
<td align="left">5.61 (0.35)</td>
</tr>
<tr class="odd">
<td align="left">3.77 (0.73)</td>
<td align="left">2.85 (0.72)</td>
</tr>
<tr class="even">
<td align="left">0.00 (0.00)</td>
<td align="left">2.76 (0.44)</td>
</tr>
</tbody>
</table>
<p>However, I would suggest to try out the Min-Max-Anticlustering approach first as it tends to better maximize differences between the <code>split</code> variable while ensuring that the covariates are balanced just as well.</p>
</div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
