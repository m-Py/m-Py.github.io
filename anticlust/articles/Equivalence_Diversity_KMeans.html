<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>On the equivalence of the k-means objective and the diversity objective • anticlust</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="On the equivalence of the k-means objective and the diversity objective">
<meta property="og:description" content="anticlust">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">anticlust</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.6.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Equivalence_Diversity_KMeans.html">On the equivalence of the k-means objective and the diversity objective</a>
    </li>
    <li>
      <a href="../articles/How_to_cite_anticlust.html">How to cite anticlust</a>
    </li>
    <li>
      <a href="../articles/Speeding_up_anticlustering.html">Speeding up anticlustering</a>
    </li>
    <li>
      <a href="../articles/stimulus-selection.html">Using the R package anticlust for stimulus selection in experiments</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/m-Py/anticlust/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>On the equivalence of the k-means objective and
the diversity objective</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/m-Py/anticlust/blob/HEAD/vignettes/Equivalence_Diversity_KMeans.Rmd" class="external-link"><code>vignettes/Equivalence_Diversity_KMeans.Rmd</code></a></small>
      <div class="hidden name"><code>Equivalence_Diversity_KMeans.Rmd</code></div>

    </div>

    
    
<p>The input of k-means anticlustering is an <span class="math inline">\(N \times M\)</span> data table with <span class="math inline">\(N\)</span> cases and <span class="math inline">\(M\)</span> variables. If we denote this structure
as <span class="math inline">\(\mathbf{X}_{N \times M} = \{x_{im}\}_{N
\times M}\)</span>, k-means anticlustering maximizes the error sum of
squares (<span class="math inline">\(\mathit{SSE}\)</span>):</p>
<p><span class="math display">\[
\mathit{SSE} =
  \sum\limits_{m=1}^{M}
  \sum\limits_{k=1}^{K}
  \sum\limits_{i \in C_k}
  (x_{im} - \overline{x}_m ^{(k)})^2
\]</span></p>
<p>The set <span class="math inline">\(C_k\)</span> contains the indices
of all elements belonging to the <em>k</em>’th cluster (<span class="math inline">\(k = 1, \dots K\)</span>). The vector <span class="math inline">\(\overline{\mathbf{x}}^{(k)} =
(\overline{x}_1^{(k)}, \overline{x}_2^{(k)} \ldots,
\overline{x}_M^{(k)})\)</span> is the centroid of the <span class="math inline">\(k\)</span>’th cluster where <span class="math inline">\(\overline{x}_j ^{(k)}\)</span> is defined as</p>
<p><span class="math display">\[
\overline{x}_j ^{(k)} = \frac{1}{n_k} \sum\limits_{i \in C_k} x_{ij}.
\]</span></p>
<p>The number of elements in the <span class="math inline">\(k\)</span>’th group is denoted by <span class="math inline">\(n_k\)</span>. Thus, the <span class="math inline">\(\mathit{SSE}\)</span> is computed as the sum of
the squared Euclidean distances between all data points and the centroid
of their respective cluster.</p>
<p>According to Brusco (2006), the k-means criterion can also be
expressed using the pairwise squared Euclidean distances between data
points. We define a distance matrix <span class="math inline">\(\mathbf{D}_{N \times N} = \{d_{ij}\}_{N \times
N}\)</span> where <span class="math inline">\(d_{ij}\)</span> is the
squared Euclidean distance between the <span class="math inline">\(i\)</span>’th and <span class="math inline">\(j\)</span>’th object:</p>
<p><span class="math display">\[
  d_{ij} = \sum\limits_{m = 1}^{M}(x_{im} - x_{jm})^2
\]</span></p>
<p>Based on <span class="math inline">\(\mathbf{D}_{N \times
N}\)</span>, the k-means criterion is then computed as</p>
<p><span class="math display">\[
\mathit{SSE} = \sum\limits_{k = 1}^{K}\left( \frac{1}{n_k}
\sum_{(i&lt;j)\in C_k} d_{ij} \right)
\]</span></p>
<p>That is, “the sum of squared distances of a collection of points from
the centroid associated with those points is equal to the sum of the
pairwise squared distances between those points divided by the size
(number of objects) of the collection” (Brusco, 2006, p. 350).</p>
<p>An important special case of anticlustering applications is that all
groups are equal-sized, i.e., <span class="math inline">\(n_k =
\frac{N}{K}\)</span> (<span class="math inline">\(k = 1, \dots
K\)</span>). Here, we obtain</p>
<p><span class="math display">\[
\mathit{SSE} = \frac{N}{K} \sum\limits_{k = 1}^{K} \sum_{(i&lt;j)\in
C_k} d_{ij}
\]</span></p>
<p>In this case, the normalizing factor <span class="math inline">\(\frac{N}{K}\)</span> can be ignored when
maximizing <span class="math inline">\(\mathit{SSE}\)</span>. Thus, the
criterion reduces to the sum of the (squared) distances between elements
in the same cluster:</p>
<p><span class="math display">\[
\mathit{SSE_{Diversity}} = \sum\limits_{k = 1}^{K}\sum_{(i&lt;j)\in C_k}
d_{ij}
\]</span> This term corresponds to the standard diversity objective,
with the distances <span class="math inline">\(d_{ij}\)</span>
representing squared Euclidean distances.</p>
<p>Because maximizing <span class="math inline">\(\mathit{SSE_{Diversity}}\)</span> maximizes <span class="math inline">\(\mathit{SSE}\)</span>, algorithms maximizing the
diversity can also be used to maximize the k-means criterion (at least
when requiring equal sized groups). The following code shows how it can
be done using <code>anticlust</code>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">features</span> <span class="op">&lt;-</span> <span class="va">schaper2019</span><span class="op">[</span>, <span class="fl">3</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span></span>
<span><span class="va">dists_squared</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/dist.html" class="external-link">dist</a></span><span class="op">(</span><span class="va">features</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span></span>
<span></span>
<span><span class="va">K</span> <span class="op">&lt;-</span> <span class="fl">6</span></span>
<span><span class="va">initial_clusters</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep_len</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">K</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">features</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cl1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/anticlustering.html">anticlustering</a></span><span class="op">(</span><span class="va">features</span>, K <span class="op">=</span> <span class="va">initial_clusters</span>, objective <span class="op">=</span> <span class="st">"variance"</span><span class="op">)</span></span>
<span><span class="va">cl2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/anticlustering.html">anticlustering</a></span><span class="op">(</span><span class="va">dists_squared</span>, K <span class="op">=</span> <span class="va">initial_clusters</span>, objective <span class="op">=</span> <span class="st">"diversity"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="va">cl1</span> <span class="op">==</span> <span class="va">cl2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span></code></pre></div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Brusco, M. J. (2006). A repetitive branch-and-bound procedure for
minimum within-cluster sums of squares partitioning. <em>Psychometrika,
71</em>, 347–363.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Martin Papenberg.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
